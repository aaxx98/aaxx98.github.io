"use strict";(self.webpackChunkaaxx98_blog=self.webpackChunkaaxx98_blog||[]).push([[983],{2466:function(n,a,e){e.r(a),e.d(a,{Head:function(){return k},default:function(){return g}});var s=e(8453),t=e(6540);function c(n){const a=Object.assign({blockquote:"blockquote",p:"p",strong:"strong",br:"br",h1:"h1",ul:"ul",li:"li",span:"span",h3:"h3",code:"code",h2:"h2"},(0,s.RP)(),n.components);return t.createElement(t.Fragment,null,t.createElement(a.blockquote,null,"\n",t.createElement(a.p,null,"이번주에는 Spring 프로젝트에서 ",t.createElement(a.strong,null,"서비스 계층 테스트를 어떻게 작성하는지"),"와 ",t.createElement(a.strong,null,"@SpringBootTest 기반 통합 테스트와의 차이점"),"을",t.createElement(a.br),"\n","실제로 작성한 테스트 코드를 기준으로 정리해보았습니다."),"\n",t.createElement(a.p,null,"테스트를 단순한 동작 확인이 아닌,\n",t.createElement(a.strong,null,"로직 변경에 대비하기 위한 안전장치"),"라는 관점에서 접근했습니다."),"\n"),"\n",t.createElement(a.h1,null,"1. 테스트를 작성하게 된 배경"),"\n",t.createElement(a.p,null,"기존에는 기능 구현 이후 애플리케이션을 직접 실행한 뒤,",t.createElement(a.br),"\n","API를 호출하여 정상 동작 여부를 확인하는 방식으로 검증을 진행했습니다."),"\n",t.createElement(a.p,null,"이 방식에는 다음과 같은 한계가 있었습니다."),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"테스트를 위해 매번 서버를 실행해야 한다"),"\n",t.createElement(a.li,null,"오류 발생 시 어느 계층의 로직에서 문제가 발생했는지 즉시 파악하기 어렵다"),"\n",t.createElement(a.li,null,"리팩터링 이후 기존 기능이 정상 동작하는지 빠르게 확인하기 어렵다"),"\n"),"\n",t.createElement(a.p,null,"이러한 문제를 해결하기 위해",t.createElement(a.br),"\n",t.createElement(a.strong,null,"서비스 로직을 독립적으로 검증할 수 있는 단위 테스트(Unit Test)")," 를 작성하게 되었습니다."),"\n",t.createElement(a.p,null,"이번 테스트에서는 컨트롤러나 Repository를 포함한 전체 흐름이 아니라,",t.createElement(a.br),"\n",t.createElement(a.strong,null,"서비스 계층의 로직만을 테스트 대상으로 한정"),"했습니다."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/ed6bb8afd82cdc57035c3ccc09e77c26/f1720/test-types.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 51.5%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAACBUlEQVR42lVQS2tTQRjNL9CFgvgCFVy1LsSNa7cW1EVFwUeIXYhuirhRERfJwkAVoZFIKShNFlJELVJiQRFsF60aX9HEQEyMbV73JvfO82bmzr0zzsQs9OMwfHxzzuE7X0T+W0oqVJRSSKX+AweSQw92hOcqDuUQIDKUhYEh4QpfOhxaKzLgkrlDEgPSs5RSc7k3bburG01WA8eI+lsy1I/7+U754T5r9YaZhMIMDYKQAf29Wqq7yNNNIGVgxMiI9bq61qF/7nHhZObDqezHos2MXA6N+x7oENwjTgc72PchZQ4VlMLIgGRYt5fhwemfR2Z/H5quXl1yeKAQCwmXlIcOBBa2L11JPl98LRW9lkhOpeeE8ExmrbRI7fKLiTPz0eiT2Nn5WOzZ+WqvoOdMMBH4ENtd2su9ev+tXKU+eLuyvJb/0mdEi03ameJk9OWmC0+3xxa2TSzsiC5unvp02gtpX2AWoB5uWKCJGlVOHETtDTdsE9Wng4OhdnkmNZJOjTxIjRrcH02nDqTv7bd+rZnIwvewXrw5eT1Z+l6UgZPLg3cVLvggc/PuxcrRLbXxvaXju/NjOwvHdtXG91TGttZvnhDYlR7C9kajVfn6o9xo1YkPGOOECUxAJIBdK5voZOKdbKKdiTcz8dagN3h0y7fWtbvfd1zkUGJD3IUEUIoIRdxz/gDR1fm12FmsLwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/ed6bb8afd82cdc57035c3ccc09e77c26/f1512/test-types.webp 200w,\n/static/ed6bb8afd82cdc57035c3ccc09e77c26/f59aa/test-types.webp 400w,\n/static/ed6bb8afd82cdc57035c3ccc09e77c26/47a22/test-types.webp 800w,\n/static/ed6bb8afd82cdc57035c3ccc09e77c26/44907/test-types.webp 1024w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/ed6bb8afd82cdc57035c3ccc09e77c26/f8f3a/test-types.png 200w,\n/static/ed6bb8afd82cdc57035c3ccc09e77c26/6a8a8/test-types.png 400w,\n/static/ed6bb8afd82cdc57035c3ccc09e77c26/7842b/test-types.png 800w,\n/static/ed6bb8afd82cdc57035c3ccc09e77c26/f1720/test-types.png 1024w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/ed6bb8afd82cdc57035c3ccc09e77c26/7842b/test-types.png"\n            alt="테스트의 종류"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",t.createElement(a.p,null,"위와 같이, 기존 검증 방식은 화면을 직접 실행하여 확인하는 UI Test와, Postman을 활용해 API 전체 흐름을 검증하는 End-to-End 테스트에 해당합니다."),"\n",t.createElement(a.p,null,"이 방식은 코드가 의도대로 동작하는지 확인하기 위해 직접 실행시켜서 결과를 확인하는 방식이었습니다."),"\n",t.createElement(a.p,null,t.createElement(a.strong,null,"Unit Test(단위 테스트)")," 는 컨트롤러나 DB, 외부 환경과 분리된 상태에서 ",t.createElement(a.strong,null,"코드 영역의 로직(주로 서비스 계층)")," 이\n주어진 조건에 따라 올바르게 동작하는지를 검증하는 테스트를 의미합니다."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/ebf3a39ecd25cdd78c4a0746071f4148/4af54/unit-test.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 71.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAAsTAAALEwEAmpwYAAACF0lEQVR42oVSW2/TMBjtT0eaQDxMlaYNMSEYqGjteJhYR6EDNZroaNd1pbTr0tvoJU3q1kmai3O/OMFJOjRtaNiyFVs55zs+30mFYRhgv3zyBnCMqiLXdcNHRxCP5DtFFsbu8WFmOByYpqkbuqnrpmnYtm0YxuNcqbsH23IgWNx8yc4G3ZUoI0Ul+HsAw9A5lrUti9RM3YrBZAcOPNNq1PToTK780BtLR0h0Jn+QbVAvTeh6rZjtX7c7Py/WYBxG4Lbe3VePcstCFnzMoXxLoSNUDEe2r/kh3b7o0Q2mWRwyHD0Bt5Vjgo7Uy6vfPstUUT0taNRAGRnIUOTVBAjvafdVA727sl5feT3RT6SkMA5tU3FsRRQlQRRNbKmOxiNBMmTHdXyfaPKHLHx77b2oSdsVfvvSbC0jFzEB86A976WlcZpny8njyJyz3GzCTEajxDBy3+GU+nj1Wwn7oqc5/tptOMrQtSd0bUOevnRdO7Gnflo82N2i9nYANydHhJAIQRj491vFz4qwvyHePFsxB5HI+PmF3P7e5vOvu5sCmJPiAACMicxIKg7ugEkWFFgRuVKX/mU7bhj3rF8td8+rDao0nc4ECf2N1MOQBAmf7TgQQh5C1wsCjQ34c3dRXTQPvcVlwvhvcNSlcM1tmSYUVnzn0/jkKUOl59+3YGUnxM7/4xnHKFresolaGbXzAbWz5jD/0KoE/AetSgi7srzdQAAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/ebf3a39ecd25cdd78c4a0746071f4148/f1512/unit-test.webp 200w,\n/static/ebf3a39ecd25cdd78c4a0746071f4148/f59aa/unit-test.webp 400w,\n/static/ebf3a39ecd25cdd78c4a0746071f4148/47a22/unit-test.webp 800w,\n/static/ebf3a39ecd25cdd78c4a0746071f4148/5bb53/unit-test.webp 1200w,\n/static/ebf3a39ecd25cdd78c4a0746071f4148/aa619/unit-test.webp 1400w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/ebf3a39ecd25cdd78c4a0746071f4148/f8f3a/unit-test.png 200w,\n/static/ebf3a39ecd25cdd78c4a0746071f4148/6a8a8/unit-test.png 400w,\n/static/ebf3a39ecd25cdd78c4a0746071f4148/7842b/unit-test.png 800w,\n/static/ebf3a39ecd25cdd78c4a0746071f4148/5ece7/unit-test.png 1200w,\n/static/ebf3a39ecd25cdd78c4a0746071f4148/4af54/unit-test.png 1400w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/ebf3a39ecd25cdd78c4a0746071f4148/7842b/unit-test.png"\n            alt="Unit Test가 필요한 이유"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",t.createElement(a.p,null,"위 그림은 단위테스트가 없으면\n개발 → 수동 테스트 → 실패 → 수정 → 재실패의 악순환 루프에 빠지기 쉽다는 것을 보여주는 그림입니다."),"\n",t.createElement(a.p,null,"단위 테스트를 통해\nUI Test나 End-to-End Test를 수행하기 이전에\n코드 영역의 로직이 의도대로 동작하는지를 먼저 검증할 수 있으며,\n이로 인해 이후 테스트 단계에서 발생하는 오류의 원인을\n보다 쉽게 추적할 수 있습니다."),"\n",t.createElement(a.p,null,"서비스 계층은 요청 처리 과정에서 중복 검증, 예외 발생 여부 판단, 응답 객체 생성 등과 같이 비즈니스 규칙에 대한 핵심적인 판단 로직을 담당합니다.",t.createElement(a.br),"\n","이러한 로직은 DB 연동이나 웹 요청 여부와 관계없이 독립적으로 검증할 수 있는 영역입니다."),"\n",t.createElement(a.p,null,"따라서 이번 테스트에서는 외부 의존성은 Mockito로 Mock 처리하고, ",t.createElement(a.strong,null,"서비스 로직의 판단과 분기 자체가 올바른지에 집중하기 위해")," 서비스 계층 단위 테스트 방식을 선택했습니다."),"\n",t.createElement(a.p,null,"이 방식은 로직 변경이나 리팩터링 이후에도 비즈니스 규칙이 의도대로 유지되고 있는지를 빠르게 확인할 수 있다는 장점이 있습니다."),"\n",t.createElement(a.h1,null,"2. 테스트 방식 개요"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/67538981f4836b1c58c5dabc9ea6ecaa/eefce/test.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVR42mP4jwz+/fv/9y+IJA4woOgkDP7h0Pz//7fzZ39u2PDs0a0/6Mrg5v9FlgBrBgn9f7dy6cPmms2rp/nMz1lx9whQ5C9YHA7+/P1z6+Hl589f/P37F6YZ7Np/f37fD/N/vGh27929+suyPDZUAwV///nx8/fXP39/f/v54f2Hty9fvtp1ctPek3uRbIZo/vXzXlL04xC//z2Tm44tsllTAhR/9OrahXt7zt3ZdfnR3n1HtyyYu2jGmmmn7pwAu/8f3Nkg1sf1qzd1lU7ZOcttXeXKWwfANv/6+evH9x9ff/78/uPnj69fvwIp5GBlQATi33+nnlzpu7rl+LNrMEGgyn9UjKr/OKMK6JM///7itw1ZMwCgyDF1yz5lIQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/67538981f4836b1c58c5dabc9ea6ecaa/f1512/test.webp 200w,\n/static/67538981f4836b1c58c5dabc9ea6ecaa/f59aa/test.webp 400w,\n/static/67538981f4836b1c58c5dabc9ea6ecaa/aced9/test.webp 720w"\n              sizes="(max-width: 720px) 100vw, 720px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/67538981f4836b1c58c5dabc9ea6ecaa/f8f3a/test.png 200w,\n/static/67538981f4836b1c58c5dabc9ea6ecaa/6a8a8/test.png 400w,\n/static/67538981f4836b1c58c5dabc9ea6ecaa/eefce/test.png 720w"\n            sizes="(max-width: 720px) 100vw, 720px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/67538981f4836b1c58c5dabc9ea6ecaa/eefce/test.png"\n            alt="JUnit 5와 Mockito"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",t.createElement(a.p,null,"이번 테스트는 ",t.createElement(a.strong,null,"JUnit 5와 Mockito를 사용한 서비스 계층 단위 테스트"),"입니다."),"\n",t.createElement(a.h3,null,"주요 특징"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"Spring Context를 실행하지 않습니다"),"\n",t.createElement(a.li,null,"Repository, Encoder 등 외부 의존성은 모두 Mock 처리합니다"),"\n",t.createElement(a.li,null,"서비스 로직만 단독으로 검증합니다"),"\n"),"\n",t.createElement(a.p,null,"즉, ",t.createElement(a.strong,null,"의존성은 가짜로 생성된 객체(Mock), 로직은 실제 코드"),"를 사용하는 구조입니다."),"\n",t.createElement(a.p,null,"UserRepository의 경우, JpaRepository에 의해 구현체가 결정되므로 Mock 반환값을 내려주어 테스트할 수 있습니다."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/efa251d9d61ead3447203762765d1e6f/3b67f/jpa-repository.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 48%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABjUlEQVR42oWSUXOrIBSE/f//rrkTk2qMKAiCisRo0t6X7ULbadrbmfvwDYK67J5zsqIc0UpHNGqh0LSadB97iXMt4YYZ1/UFy/X+X7K+X+CcR2/HhOVzpNMO2gzEYfQXrNtr+iEKf/Kr4D63KMsa+aHAnux2Ofb5M1TXU3jiJRMdBsxhQ7jcME4LJr/Az1dcltu/gvnB4nQSOBxL7P4c8PS0T4LPRYWiPBNBCnJkKdp0Vp3bVJoo/NNpps2SXGhjIZUhPePaFDXWUUpDpx2GUdGdo8Ad2+1vKsFv0TOlKxjTwvQj8Slqbz3jrSnSHO7khW5WxlyTq2EKKXJkDuu36JlsLB0t7KinuwmikanbolHpAtEEKB0YU6Sut3Qc38UGxiQx3WOzsqKqcOIHZd1AdAblucGRdYprPKtlh6ISUOx4RxHVs/NslqRYfLacAPdAphkvxtXEMYqON8dx4b7n+Bg6iPvBhxTVjYFjtMByNuP3npH95Yvs9lHgR7bt62xb3/cxzpp4fV8/m3L9zhvGm+3mKfJ2bwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/efa251d9d61ead3447203762765d1e6f/f1512/jpa-repository.webp 200w,\n/static/efa251d9d61ead3447203762765d1e6f/f59aa/jpa-repository.webp 400w,\n/static/efa251d9d61ead3447203762765d1e6f/47a22/jpa-repository.webp 800w,\n/static/efa251d9d61ead3447203762765d1e6f/5bb53/jpa-repository.webp 1200w,\n/static/efa251d9d61ead3447203762765d1e6f/e4b71/jpa-repository.webp 1232w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/efa251d9d61ead3447203762765d1e6f/f8f3a/jpa-repository.png 200w,\n/static/efa251d9d61ead3447203762765d1e6f/6a8a8/jpa-repository.png 400w,\n/static/efa251d9d61ead3447203762765d1e6f/7842b/jpa-repository.png 800w,\n/static/efa251d9d61ead3447203762765d1e6f/5ece7/jpa-repository.png 1200w,\n/static/efa251d9d61ead3447203762765d1e6f/3b67f/jpa-repository.png 1232w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/efa251d9d61ead3447203762765d1e6f/7842b/jpa-repository.png"\n            alt="JpaRepository를 상속받는 UserRepository interface"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",t.createElement(a.p,null,"IntelliJ에서는 다음과 같이 Test 코드에서 생성된 테스트 버튼을 이용하여 직접 테스트를 실행해보고, 결과를 확인 할 수 있습니다."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/986f86530cfe9488dde25dab7915c7c3/2633e/intellij.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACC0lEQVR42p1T246UQBDl/7/JF1802TUZd911lBmWAYZ734BuoLkdi9ZNzMZJVDonVU26TupyyvOjCGGWILgmyFmJrhXoe4NhGMgOZHvn/y28oiigjYXuZ7LaEazbhv/5NorzqpKy0j1UN6PVFk3TOHRdB6UUpmn6N8K6rsBlizBpEWcNwvAFQRDA933EcezK2En3x/tZt9X5NwmfLkc8Jj7CS4kwSuGfdv+CsixQ1zWEEFCtQm0l6lGiHOhuu9uEeZVD6gbbusFai3meMFNG67piWRa6zy7DPTMX9OvcJIxZilMR4hpHiOIESZohSq6EBGmWIk1TMMEhpxbCNuBWQdr2j2U7wqi64qoKjL1FkWcoa46KCTCuSDY0kNWlBbtOGJYR42Kdv93KUElFRAXOUUBDCcEkQyZyPOdnHPMQAY9x5hFyVcMOFr3pYbQhFWinhLfwGGP4+HyPd3fvcfd8wMPpCR++3+NTdMDh5TMe4y94iJ/g5ycULEMlSif8vd+WevuKiXpt7QRPcoHC1JANRxanEBUH1xKZf0RHvWxIOi1B0UYJ6jO/hJB011UJXVYwVQ1DauiyDD0pwqvpR2oqKu2Cr5GPb8kJgaDA4oqRHvQ0EE0BOwYhiYBIGCcwdLQUY9vCao2RlsEaA2+f4rKSPDbCbtfZ2WGcYWgljZmob1SWXfau/5zub/bt9wNUiuT6w98VfwAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/986f86530cfe9488dde25dab7915c7c3/f1512/intellij.webp 200w,\n/static/986f86530cfe9488dde25dab7915c7c3/f59aa/intellij.webp 400w,\n/static/986f86530cfe9488dde25dab7915c7c3/47a22/intellij.webp 800w,\n/static/986f86530cfe9488dde25dab7915c7c3/cbb6e/intellij.webp 1192w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/986f86530cfe9488dde25dab7915c7c3/f8f3a/intellij.png 200w,\n/static/986f86530cfe9488dde25dab7915c7c3/6a8a8/intellij.png 400w,\n/static/986f86530cfe9488dde25dab7915c7c3/7842b/intellij.png 800w,\n/static/986f86530cfe9488dde25dab7915c7c3/2633e/intellij.png 1192w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/986f86530cfe9488dde25dab7915c7c3/7842b/intellij.png"\n            alt="IntelliJ에서 테스트 실행"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",t.createElement(a.p,null,"Test with Coverage 옵션으로 테스트를 실행하면,전체 코드 중 테스트가 실제로 실행된 코드의 비율을\nCoverage 리포트를 통해 확인할 수 있습니다."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/bcab23d2c16bf1a7ef6a03bc87fd130a/7073c/coverage.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 20.5%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA+UlEQVR42iWOS0/CQBhF+///ASsUUHRpDKihuiSaQulMHzPTIpQKAQu0sbI/Dri4uSe593s4bS+i/yFojX1a1jsi5drqyqorDPezhM4kpCdT+n7MjSfpBpq7meJ2GtGx3g8UPU/Qtuy4aslwGvJg5aY5I7O8yDU5rl7wFCQMheItWzGYxQz8yHLBs9Q8TiQj23kJzYVfbccptyUq0igZU5UV9b62fqT6PnDOdKzZFBuaurGsKJYFTdWQ6QyTGH7rf56bOaefE85qU+LZD8bvHrGeEyYp2aJgvTuQf20JZMJnvmZX1vgiumRnFpEisUv2xwZpj57n9lXDHzLRFn43WTJ3AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/bcab23d2c16bf1a7ef6a03bc87fd130a/f1512/coverage.webp 200w,\n/static/bcab23d2c16bf1a7ef6a03bc87fd130a/f59aa/coverage.webp 400w,\n/static/bcab23d2c16bf1a7ef6a03bc87fd130a/47a22/coverage.webp 800w,\n/static/bcab23d2c16bf1a7ef6a03bc87fd130a/5bb53/coverage.webp 1200w,\n/static/bcab23d2c16bf1a7ef6a03bc87fd130a/5d725/coverage.webp 1438w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/bcab23d2c16bf1a7ef6a03bc87fd130a/f8f3a/coverage.png 200w,\n/static/bcab23d2c16bf1a7ef6a03bc87fd130a/6a8a8/coverage.png 400w,\n/static/bcab23d2c16bf1a7ef6a03bc87fd130a/7842b/coverage.png 800w,\n/static/bcab23d2c16bf1a7ef6a03bc87fd130a/5ece7/coverage.png 1200w,\n/static/bcab23d2c16bf1a7ef6a03bc87fd130a/7073c/coverage.png 1438w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/bcab23d2c16bf1a7ef6a03bc87fd130a/7842b/coverage.png"\n            alt="테스트 커버리지 확인"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",t.createElement(a.p,null,"이번 테스트에서는 전체 Line Coverage 30% 이상을 목표로 설정했으며, 그 결과 다음과 같은 커버리지 결과를 확인할 수 있었습니다."),"\n",t.createElement(a.h1,null,"3. 테스트 대상 구성"),"\n",t.createElement(a.p,null,"테스트 대상은 ",t.createElement(a.code,null,"UserServiceImpl")," 클래스입니다."),"\n",t.createElement(a.p,null,"회원 가입, 회원정보 변경과 같은 처리를 하고있습니다."),"\n",t.createElement(a.p,null,"다음과 같이 테스트 코드를 ",t.createElement(a.code,null,"test/")," 경로에 작성했습니다."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 676px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/a5d792c79edcda43ea7cc1a22605f24e/5860e/test-file.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 89.5%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAACkElEQVR42o2U6XOaUBTF+f//l7bTadK6KyAkyqIgOyggS4y7SadfT+/DJEO22g+/AZn37jv3nPvk0qzEPCmhGyFa7T7itEC52iLL75EVr8nL9UW4aJvDLVOMYx+D2Q0kS8N8VyA+3SE+rojzc74vEdH3S3DeMQXDOcyhFy66Exnj1ISxCqBmNialVz1nmwj+aYnn9Z/BsUXnhUs49zH0hQvBHkH0FDQ1Hn1S3TMlTOiw8DGHfzyv/wzO3aR4xtkkMJYhVN9BV5PQm96AN0cYGLdQFza8LR26TqqD6/vqcIYb4ZkpYbohNCdGbxTiutPH16sGvl03cdXq4vuvNtHClx8/0eYlzPwFpk6Ieg3O21HvNfx9CmtdgLdS9E0ZLYXaJoWCNaZ3AY1RH036pixmCA4ZqX69n6v37x4SWCsKJyYf/Unl3cCitsnToa/SQRGszRz2bgHvkH7sYWXyE2yRs6VgkoDS1qigjK5BRe1bdKdDTAsPeu5CDnUYdz6CU4b6fgb39kP4QMbv70hVAt4dVYUYnckQbV0kxbfo0G9taSN4yP9d0DsQe2p7nUEKYxoZGU2Vh+COIRKNcZ8ugIn4z+pDde8KMg/NIoQSWKRERo/aFV2F/NMqZVKgIfpdvthzsSAjOKWwt5SyHaE1ESuFLJgOvTM/m5oAwRlXBS97eDgXtDY5tRmTMuUlGKaUhdOi28NgqX+k8r1CCsXelRCdBB1ziIYyoNblp3AkKMmsSlrPnMstV2OzWcAoYkhRWCljSOQhKyaRKpZs9FjQNOT/V5ANtho5NBoSGuqg8u78ByFDXVpwdnE13J+Gwq5PnYiMdncrSF5OV45a1Wn+NBFtVQA/G6E5JgumMny6Zm/3Mv4CMEf+PRQAbToAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/a5d792c79edcda43ea7cc1a22605f24e/f1512/test-file.webp 200w,\n/static/a5d792c79edcda43ea7cc1a22605f24e/f59aa/test-file.webp 400w,\n/static/a5d792c79edcda43ea7cc1a22605f24e/f4676/test-file.webp 676w"\n              sizes="(max-width: 676px) 100vw, 676px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/a5d792c79edcda43ea7cc1a22605f24e/f8f3a/test-file.png 200w,\n/static/a5d792c79edcda43ea7cc1a22605f24e/6a8a8/test-file.png 400w,\n/static/a5d792c79edcda43ea7cc1a22605f24e/5860e/test-file.png 676w"\n            sizes="(max-width: 676px) 100vw, 676px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/a5d792c79edcda43ea7cc1a22605f24e/5860e/test-file.png"\n            alt="테스트 코드 작성 위치"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@ExtendWith</span><span class="token punctuation">(</span><span class="token class-name">MockitoExtension</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>\n<span class="token keyword">class</span> <span class="token class-name">UserServiceImplTest</span> <span class="token punctuation">{</span>\n    <span class="token annotation punctuation">@InjectMocks</span>\n    <span class="token keyword">private</span> <span class="token class-name">UserServiceImpl</span> userService<span class="token punctuation">;</span>\n\n    <span class="token annotation punctuation">@Mock</span>\n    <span class="token keyword">private</span> <span class="token class-name">UserRepository</span> userRepository<span class="token punctuation">;</span>\n\n    <span class="token annotation punctuation">@Mock</span>\n    <span class="token keyword">private</span> <span class="token class-name">UserActivityRepository</span> userActivityRepository<span class="token punctuation">;</span>\n\n    <span class="token annotation punctuation">@Mock</span>\n    <span class="token keyword">private</span> <span class="token class-name">PasswordEncoder</span> passwordEncoder<span class="token punctuation">;</span>\n\n    <span class="token annotation punctuation">@Test</span>\n    <span class="token keyword">void</span> 회원가입_실패_중복이메일<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>\n\n    <span class="token annotation punctuation">@Test</span>\n    <span class="token keyword">void</span> 회원가입_성공<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>\n<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"테스트 대상 객체: ",t.createElement(a.code,null,"UserServiceImpl"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.code,null,"@InjectMocks")),"\n"),"\n"),"\n",t.createElement(a.li,null,"Mock 처리된 의존성","\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.code,null,"@Mock")),"\n",t.createElement(a.li,null,"실제 DB 접근이나 암호화 로직은 수행하지 않습니다"),"\n",t.createElement(a.li,null,"테스트 범위를 서비스 로직으로 제한합니다"),"\n"),"\n"),"\n"),"\n",t.createElement(a.h1,null,"4. 테스트 코드 작성 방식 (Given–When–Then)"),"\n",t.createElement(a.p,null,"모든 테스트는 Given–When–Then 구조로 작성했습니다."),"\n",t.createElement(a.h2,null,"실패 케이스 테스트 예시 (중복 이메일)"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">  <span class="token annotation punctuation">@Test</span>\n  <span class="token keyword">void</span> 회원가입_실패_중복이메일<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// given</span>\n    <span class="token class-name">RegisterRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegisterRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">ReflectionTestUtils</span><span class="token punctuation">.</span><span class="token function">setField</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"홍길동"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">ReflectionTestUtils</span><span class="token punctuation">.</span><span class="token function">setField</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">,</span> <span class="token string">"test@test.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">ReflectionTestUtils</span><span class="token punctuation">.</span><span class="token function">setField</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">"홍길동"</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token string">"test@test.com"</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span><span class="token string">"encoded-pass"</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">given</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">.</span><span class="token function">findByEmail</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">willReturn</span><span class="token punctuation">(</span><span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// when &amp; then</span>\n    <span class="token function">assertThrows</span><span class="token punctuation">(</span><span class="token class-name">BadRequestException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>\n        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> userService<span class="token punctuation">.</span><span class="token function">registerUser</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(a.h3,null,"Given"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"\n",t.createElement(a.p,null,t.createElement(a.code,null,"ReflectionTestUtils")),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.code,null,"RegisterRequest"),"가 별도의 setter를 제공하지 않기 때문에, 테스트만을 위해서 코드를 변경하지 않고 Reflection을 이용해 테스트 환경에서만 필드 값을 설정했습니다"),"\n"),"\n"),"\n",t.createElement(a.li,null,"\n",t.createElement(a.p,null,t.createElement(a.code,null,"given")),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"이미 동일한 이메일이 존재한다고 가정합니다."),"\n",t.createElement(a.li,null,"실제 DB 조회 없이 ",t.createElement(a.code,null,"userRepository.findByEmail()")," 메소드는 Mockito가 정의한 값을 반환합니다."),"\n"),"\n"),"\n"),"\n",t.createElement(a.h3,null,"When & Then"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.code,null,"assertThrows"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"서비스 메소드(",t.createElement(a.code,null,"registerUser"),")를 실행합니다"),"\n",t.createElement(a.li,null,"중복 이메일일 경우 특정 예외(",t.createElement(a.code,null,"BadRequestException.clas"),")가 발생하는지 검증합니다"),"\n"),"\n"),"\n"),"\n",t.createElement(a.p,null,"When & Then을 한번에 쓰지 않고, 아래와 같이 실행결과를 받아 비교하는 식으로 검증할 수도 있습니다."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token class-name">BadRequestException</span> exception <span class="token operator">=</span> <span class="token function">assertThrows</span><span class="token punctuation">(</span>\n    <span class="token class-name">BadRequestException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>\n    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> userService<span class="token punctuation">.</span><span class="token function">registerUser</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"이미 존재하는 이메일입니다."</span><span class="token punctuation">,</span> exception<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>'}}),"\n",t.createElement(a.h2,null,"성공 케이스 테스트 예시"),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Test</span>\n<span class="token keyword">void</span> 회원가입_성공<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// given</span>\n    <span class="token class-name">RegisterRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegisterRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">ReflectionTestUtils</span><span class="token punctuation">.</span><span class="token function">setField</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"홍길동"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">ReflectionTestUtils</span><span class="token punctuation">.</span><span class="token function">setField</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">"email"</span><span class="token punctuation">,</span> <span class="token string">"test@test.com"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token class-name">ReflectionTestUtils</span><span class="token punctuation">.</span><span class="token function">setField</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">,</span> <span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token function">given</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">.</span><span class="token function">findByEmail</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">willReturn</span><span class="token punctuation">(</span><span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token function">given</span><span class="token punctuation">(</span>passwordEncoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getPassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">willReturn</span><span class="token punctuation">(</span><span class="token string">"encoded-password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token class-name">User</span> savedUser <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token string">"홍길동"</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token string">"test@test.com"</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span><span class="token string">"encoded-password"</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token function">given</span><span class="token punctuation">(</span>userRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">willReturn</span><span class="token punctuation">(</span>savedUser<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// when</span>\n    <span class="token class-name">RegisterResponse</span> response <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">registerUser</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// then</span>\n    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"홍길동"</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token function">assertEquals</span><span class="token punctuation">(</span><span class="token string">"test@test.com"</span><span class="token punctuation">,</span> response<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(a.h3,null,"Given"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.code,null,"given(userRepository.findByEmail(...))"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"해당 이메일을 가진 사용자가 존재하지 않는 상황을 가정합니다"),"\n",t.createElement(a.li,null,"실제 DB 조회 없이 Mockito가 ",t.createElement(a.code,null,"Optional.empty()"),"를 반환하도록 설정합니다"),"\n"),"\n"),"\n",t.createElement(a.li,null,t.createElement(a.code,null,"given(passwordEncoder.encode(...))"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"비밀번호 암호화 결과를 고정합니다"),"\n",t.createElement(a.li,null,"암호화 로직 자체가 아닌, 서비스 흐름 검증에 집중합니다"),"\n"),"\n"),"\n",t.createElement(a.li,null,t.createElement(a.code,null,"given(userRepository.save(...))"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"사용자 저장이 정상적으로 완료되었다고 가정합니다"),"\n",t.createElement(a.li,null,"저장 후 반환되는 사용자 객체를 미리 정의합니다"),"\n"),"\n"),"\n"),"\n",t.createElement(a.h3,null,"When"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.code,null,"userService.registerUser(request)"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"회원가입 서비스 메소드를 실행합니다"),"\n",t.createElement(a.li,null,"이메일 중복 확인, 비밀번호 암호화, 사용자 저장 로직이 순차적으로 수행됩니다"),"\n"),"\n"),"\n"),"\n",t.createElement(a.h3,null,"Then"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,t.createElement(a.code,null,'assertEquals("홍길동", response.getName())'),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"응답 객체에 사용자 이름이 올바르게 담겼는지 검증합니다"),"\n"),"\n"),"\n",t.createElement(a.li,null,t.createElement(a.code,null,'assertEquals("test@test.com", response.getEmail())'),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"응답 객체에 이메일이 정상적으로 매핑되었는지 검증합니다"),"\n"),"\n"),"\n"),"\n",t.createElement(a.h1,null,"5. 단위 테스트와 ",t.createElement(a.code,null,"@SpringBootTest"),"의 차이점"),"\n",t.createElement(a.h2,null,"@SpringBootTest란?"),"\n",t.createElement(a.p,null,t.createElement(a.code,null,"@SpringBootTest"),"는",t.createElement(a.br),"\n","Spring Boot 애플리케이션 전체를 실제로 실행하는 테스트 방식으로, 일반적으로 통합 테스트에 해당합니다."),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"Spring Context를 로딩합니다"),"\n",t.createElement(a.li,null,"실제 Bean이 주입됩니다"),"\n",t.createElement(a.li,null,"설정에 따라 실제 DB 또는 테스트 DB와 연동됩니다"),"\n",t.createElement(a.li,null,"여러 컴포넌트가 함께 동작하므로 테스트 범위가 넓습니다"),"\n"),"\n",t.createElement(a.h2,null,"선택 기준"),"\n",t.createElement(a.h3,null,"단위 테스트가 적합한 경우"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"서비스 로직을 단독으로 검증하고 싶은 경우"),"\n",t.createElement(a.li,null,"예외 처리 및 분기 로직을 확인하고 싶은 경우"),"\n",t.createElement(a.li,null,"빠른 피드백이 필요한 경우"),"\n",t.createElement(a.li,null,"리팩터링 시 안정성을 확보하고 싶은 경우"),"\n"),"\n",t.createElement(a.h3,null,"@SpringBootTest가 적합한 경우"),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"JPA 매핑이 정상 동작하는지 확인할 때"),"\n",t.createElement(a.li,null,"실제 쿼리 동작을 검증해야 할 때"),"\n",t.createElement(a.li,null,"Bean 설정 오류를 확인할 때"),"\n",t.createElement(a.li,null,"여러 컴포넌트 간 연동을 함께 검증해야 할 때"),"\n"),"\n",t.createElement(a.p,null,"다음과 같이 JPQL로 작성한 Repository 메소드는 통합 테스트로 테스트할 필요가 있습니다."),"\n",t.createElement(a.p,null,"엔티티 매핑, JOIN, 조건 필터링, DTO Projection 등\n실행 시점에 오류가 발생할 수 있는 요소를 포함하고 있기 때문에,\nMock 기반 단위 테스트보다는 실제 JPA 환경에서 검증하는 통합 테스트가 적합합니다."),"\n",t.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserActivityRepository</span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Post</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">></span></span> <span class="token punctuation">{</span>\n\n  <span class="token annotation punctuation">@Query</span><span class="token punctuation">(</span><span class="token triple-quoted-string string">"""\n          SELECT\n              c.id AS id,\n              p.id AS postId,\n              b.id AS boardId,\n              b.boardName AS boardName,\n              p.title AS postTitle,\n              CASE WHEN LENGTH(c.content) > 200\n                THEN CONCAT(SUBSTRING(c.content, 1, 200), \'...\')\n                ELSE c.content\n              END AS content,\n              c.createdAt AS createdAt\n          FROM PostComment c\n          JOIN c.post p\n          JOIN p.board b\n          WHERE c.author.id = :userId\n            AND c.deletedAt IS NULL\n            AND p.deletedAt IS NULL\n            AND b.deletedAt IS NULL\n          ORDER BY c.createdAt DESC, c.id DESC\n      """</span><span class="token punctuation">)</span>\n  <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserCommentResponse</span><span class="token punctuation">></span></span> <span class="token function">findAllCommentsByUserId</span><span class="token punctuation">(</span>\n      <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"userId"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> userId<span class="token punctuation">,</span>\n      <span class="token class-name">Pageable</span> pageable\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",t.createElement(a.p,null,"하지만 이번 프로젝트에서 테스트 범위는 Service 로직으로 한정했기 때문에, ",t.createElement(a.code,null,"@Query"),"로 작성한 코드에 대해 통합 테스트를 작성하지 못한 점이 아쉬웠습니다."),"\n",t.createElement(a.h1,null,"마무리"),"\n",t.createElement(a.p,null,"이번 테스트 작성을 통해 다음과 같은 점을 정리할 수 있었습니다."),"\n",t.createElement(a.ul,null,"\n",t.createElement(a.li,null,"테스트는 단순한 기능 검증을 넘어, 로직 변경이나 리팩터링 이후에도 기능의 안정성을 보장하는 역할을 합니다."),"\n",t.createElement(a.li,null,"모든 테스트를 @SpringBootTest로 작성할 필요는 없으며, 테스트 대상과 목적에 따라 적절한 테스트 방식을 선택해야 합니다."),"\n",t.createElement(a.li,null,"테스트의 목적에 맞게 단위 테스트와 통합 테스트의 범위를 구분하는 것이 중요합니다."),"\n"))}var l=function(n){void 0===n&&(n={});const{wrapper:a}=Object.assign({},(0,s.RP)(),n.components);return a?t.createElement(a,n,t.createElement(c,n)):c(n)},p=e(7082),o=e(8009),i=e(5606),u=e(8454),r=e(1042),d=e(6952);function m(n){let{data:a,children:e}=n;return t.createElement(p.A,null,t.createElement(i.A,{data:a}),t.createElement("section",{className:"post-body-container"},t.createElement(d.A,null),t.createElement("div",{className:"post-body"},e),t.createElement("div",{className:"post-tags-area"},t.createElement(u.A,{tags:a.mdx.frontmatter.tags,isLinked:!0})),t.createElement("div",{className:"post-top-wrap"},t.createElement("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"post-top-button","aria-label":"맨 위로 이동"},"↑ TOP"))),t.createElement("section",{className:"comment-section"},t.createElement(o.A,null)))}function k(n){let{data:a}=n;return t.createElement(r.A,{title:a.mdx.frontmatter.title})}function g(n){return t.createElement(m,n,t.createElement(l,n))}},5606:function(n,a,e){var s=e(6540),t=e(7962);a.A=function(n){let{data:a}=n;return s.createElement("div",{className:"post-content-container"},s.createElement("h1",{className:"post-content-title"},a.mdx.frontmatter.title),s.createElement("p",{className:"post-content-meta"},"작성일: ",a.mdx.frontmatter.date),s.createElement("div",{className:"breadcrumb-wrap"},s.createElement(t.A,{info:[{name:"HOME",url:"/"},{name:`${a.mdx.frontmatter.category}`,url:`/categories/${a.mdx.frontmatter.category}`},{name:a.mdx.frontmatter.title,url:`/${a.mdx.frontmatter.slug}`}]})))}},6952:function(n,a,e){var s=e(6540);a.A=()=>{const{0:n,1:a}=(0,s.useState)(!1),{0:e,1:t}=(0,s.useState)([]);(0,s.useEffect)((()=>{const n=document.querySelectorAll("h1, h2, h3, h4, h5, h6"),a=Array.from(n).map(((n,a)=>(n.id||(n.id=`heading-${a}`),{id:n.id,text:n.textContent||"",level:parseInt(n.tagName.charAt(1),10),element:n})));t(a)}),[]);return 0===e.length?null:s.createElement("div",{className:"toc-container"},s.createElement("button",{className:"toc-toggle",onClick:()=>a(!n),"aria-expanded":n,"aria-controls":"toc-content"},s.createElement("span",{className:"toc-title"},"목차"),s.createElement("span",{className:"toc-arrow "+(n?"open":"")},"▼")),s.createElement("div",{id:"toc-content",className:"toc-content "+(n?"open":"")},s.createElement("nav",{className:"toc-nav"},s.createElement("ul",{className:"toc-list"},e.map((n=>s.createElement("li",{key:n.id,className:`toc-item level-${n.level} `},s.createElement("button",{className:"toc-link",onClick:()=>(n=>{const a=document.getElementById(n);if(a){const n=80,e=a.offsetTop-n;window.scrollTo({top:e,behavior:"smooth"})}})(n.id),title:n.text},n.text))))))))}},7717:function(n,a){a.A={gatsby:"Gatsby",react:"React",utterances:"Utterances",github:"Github",blog:"블로그",seo:"SEO","tailwind-css":"Tailwind CSS",bootcamp:"부트캠프후기","multi-campus":"멀티캠퍼스IT부트캠프","ureca-backend":"LG U+ 유레카 3기 백엔드",java:"JAVA",study:"스터디",database:"데이터베이스",sql:"SQL",conccurency:"동시성",redis:"Redis"}},7962:function(n,a,e){e.d(a,{A:function(){return p}});var s=e(6540),t=e(6188),c=e(2337),l=e(4794);function p(n){let{info:a}=n;return a&&0!==a.length?s.createElement("nav",{"aria-label":"breadcrumb",className:"breadcrumb"},s.createElement("ol",{className:"breadcrumb-list"},a.map(((n,e)=>{const p=e===a.length-1;return s.createElement("li",{key:n.url||`${n.name}-${e}`,className:"breadcrumb-item"},p?s.createElement("span",{"aria-current":"page",className:"breadcrumb-current"},n.name):s.createElement(l.Link,{to:n.url,className:"breadcrumb-link"},n.name),!p&&s.createElement("span",{className:"breadcrumb-sep"},s.createElement(c.g,{icon:t.vmR,className:"breadcrumb-sep-icon"})))})))):null}},8009:function(n,a,e){var s=e(6540);a.A=function(){const n=(0,s.useRef)(null),{0:a,1:e}=(0,s.useState)("pending");return(0,s.useEffect)((()=>{const a=n.current;if(!a)return;a.innerHTML="";const s=document.createElement("script");return s.src="https://utteranc.es/client.js",s.async=!0,s.crossOrigin="anonymous",s.setAttribute("repo","aaxx98/aaxx98.github.io"),s.setAttribute("issue-term","pathname"),s.setAttribute("theme","github-dark"),s.onload=()=>e("success"),s.onerror=()=>e("failed"),a.appendChild(s),()=>{a.innerHTML=""}}),[]),s.createElement("section",{className:"comment-container","aria-label":"댓글"},"failed"===a&&s.createElement("div",{className:"comment-status error"},"댓글을 불러오는 중 오류가 발생했습니다. 새로고침 후 다시 시도해주세요."),"pending"===a&&s.createElement("div",{className:"comment-status pending"},"댓글을 불러오는 중..."),s.createElement("div",{ref:n,className:"utterances-container"}))}},8454:function(n,a,e){var s=e(6540),t=e(4794),c=e(7717);a.A=function(n){let{tags:a,isLinked:e=!1}=n;return s.createElement("div",{className:"post-tags"},a.map((n=>e?s.createElement(t.Link,{key:n,to:`/tags/${n}`,className:"post-tag"},"#",c.A[n]||n):s.createElement("div",{key:n,className:"post-tag"},"#",c.A[n]||n))))}}}]);
//# sourceMappingURL=component---src-pages-post-mdx-frontmatter-slug-tsx-content-file-path-content-til-20251220-til-20251220-mdx-e94db9ed9027eef8ec9d.js.map