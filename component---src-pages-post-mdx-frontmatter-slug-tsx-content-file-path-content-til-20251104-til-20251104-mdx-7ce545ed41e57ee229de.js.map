{"version":3,"file":"component---src-pages-post-mdx-frontmatter-slug-tsx-content-file-path-content-til-20251104-til-20251104-mdx-7ce545ed41e57ee229de.js","mappings":"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","sources":["webpack://aaxx98-blog/./src/components/post/post-content.tsx","webpack://aaxx98-blog/./content/til/20251104/til-20251104.mdx","webpack://aaxx98-blog/./src/pages/post/{mdx.frontmatter__slug}.tsx","webpack://aaxx98-blog/./src/components/post/toc.tsx","webpack://aaxx98-blog/./src/code/tagName.ts","webpack://aaxx98-blog/./src/components/breadcrumb.tsx","webpack://aaxx98-blog/./src/components/post/comment.tsx","webpack://aaxx98-blog/./src/components/post/post-tags.tsx"],"sourcesContent":["import * as React from 'react';\n\nimport Breadcrumb from '../breadcrumb';\n\nfunction PostContent({ data }: any) {\n  return (\n    <div className=\"post-content-container\">\n      <h1 className=\"post-content-title\">{data.mdx.frontmatter.title}</h1>\n      <p className=\"post-content-meta\">작성일: {data.mdx.frontmatter.date}</p>\n      <div className=\"breadcrumb-wrap\">\n        <Breadcrumb\n          info={[\n            { name: 'HOME', url: '/' },\n            {\n              name: `${data.mdx.frontmatter.category}`,\n              url: `/categories/${data.mdx.frontmatter.category}`,\n            },\n            {\n              name: data.mdx.frontmatter.title,\n              url: `/${data.mdx.frontmatter.slug}`,\n            },\n          ]}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default PostContent;\n","/*@jsxRuntime classic @jsx React.createElement @jsxFrag React.Fragment*/\nimport {useMDXComponents as _provideComponents} from \"@mdx-js/react\";\nimport React from \"react\";\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h1: \"h1\",\n    blockquote: \"blockquote\",\n    p: \"p\",\n    strong: \"strong\",\n    h2: \"h2\",\n    a: \"a\",\n    h3: \"h3\",\n    span: \"span\",\n    code: \"code\",\n    hr: \"hr\",\n    ol: \"ol\",\n    li: \"li\",\n    ul: \"ul\"\n  }, _provideComponents(), props.components);\n  return React.createElement(React.Fragment, null, React.createElement(_components.h1, null, \"미니 프로젝트 개선\"), \"\\n\", React.createElement(_components.blockquote, null, \"\\n\", React.createElement(_components.p, null, \"Java Swing과 JDBC를 이용하여 \", React.createElement(_components.strong, null, \"☕ 카페 재고 관리 프로그램\"), \"을 만들었습니다.\"), \"\\n\", React.createElement(_components.p, null, \"JDBC는 데이터베이스 연결과 트랜잭션, 자원 해제를 매번 직접 관리해야 하며, 이로 인해 데이터 접근 코드와 비즈니스 로직이 밀접하게 결합되는 단점이 있습니다.\"), \"\\n\", React.createElement(_components.p, null, \"JPA를 사용하면 Java 객체 중심으로 데이터베이스를 다룰 수 있고, SQL을 직접 작성하지 않아도 CRUD 작업과 연관관계 매핑을 쉽게 처리할 수 있습니다. 또한 1차 캐시와 변경 감지 기능 덕분에 성능 최적화가 가능하고, 코드 유지보수와 확장성이 훨씬 좋아집니다.\"), \"\\n\", React.createElement(_components.p, null, \"이번 til에서는 JDBC + DAO 구조으 프로젝트를 JPA를 사용하도록 변경하고, \", React.createElement(_components.strong, null, \"객체지향 설계원칙 SOLID\"), \"에 맞추어 개선하는 과정을 공유하려고합니다.\"), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"1. 현재 미니 프로젝트 폴더 구조\"), \"\\n\", React.createElement(_components.p, null, \"미니 프로젝트는 간단한 재고 및 주문 관리 시스템으로, \", React.createElement(_components.strong, null, \"JDBC를 직접 사용한 DAO 구조\"), \"로 작성되었습니다.\"), \"\\n\", React.createElement(_components.p, null, \"설명과 코드는 \", React.createElement(_components.a, {\n    href: \"https://github.com/aaxx98/java-study/tree/main/MiniProject\"\n  }, \"github\"), \"에서 확인할 수 있습니다.\"), \"\\n\", React.createElement(_components.h3, null, \"구조\"), \"\\n\", React.createElement(_components.p, null, \"프로젝트는 다음과 같은 폴더 구조를 가집니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\"><pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">myProj/\\n ┣ dao/\\n ┃ ┣ StockDAO.java\\n ┃ ┣ OrderDAO.java\\n ┃ ┗ ProductDAO.java\\n ┣ db/\\n ┃ ┣ DBUtil.java\\n ┃ ┗ DBConnection.java\\n ┣ model/\\n ┃ ┣ Product.java\\n ┃ ┣ Stock.java\\n ┃ ┣ OrderSummary.java\\n ┃ ┗ OrderItemDetail.java\\n ┣ panels/\\n ┃ ┣ ProductPanel.java\\n ┃ ┣ StockPanel.java\\n ┃ ┣ OrderPanel.java\\n ┃ ┗ dialogs/\\n ┃   ┣ ProductAddDialog.java\\n ┃   ┣ ProductEditDialog.java\\n ┃   ┣ ProductDeleteDialog.java\\n ┃   ┗ OrderDetailDialog.java\\n ┣ frames/\\n ┃ ┗ MainFrame.java\\n ┗ Main.java</code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"ERD는 다음과 같습니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 724px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/f55dde07df6eadff18c42cccf6a2b72d/a579b/erd.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 98%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAADTklEQVR42pVUiZLaRhDl/z/IFTtxshu7bNawLKADCQkQumB1oRPdeumRgGWTSrncVT2I0ei9Pl7PCGRl06FsyTv0XpEXLUDb76zr7h66dvD7fbLRuW4x2Qf4nTPwOOPw8Mzj72cOj0sVephfPhi+qBnhhajB4Iy4vgeMywYLK8RktceCX0GQVYjSGnNFw/50vh1kH228BJzp42Fl4dtSwpOoQjIdKG5yA+0BV0GF1UaDH0Vg+y2tftHATusbYEFhya8RFNPFd1HD5GWJ8WwB8/AKxYmRX+rTA3Jujq3tYC6sIG81uKcQYQVMNQdV04BVKq0GYmFnYW8Yl6i7Pm09rsBKdwOU/AKmeYAiS1AVBaa+h59kmOkOiqoG9YsAW4heDitIIakb7AyrD8DxfFhZg6y6B/RKaIYNnuex5Hh4rovwXOGY3afc0rkC+tHH7HmK9XoNj8CqIu/PZVXzBqgEJXTdgCTyONo2mqrsu/e8O6KsB9CG0lNOJfhjhKlqgDNcWOcGRtpgF5ao2+5NNgIx8/oruJ0JO8nhUUNYXV50Dzkxt//S450yL34nG7bklE5GwBl1KqGIWdQx1YRF1ZKzdJkx4JaWpm3ptx303Q37V3GPbhxd917yPcDwvyCy/48S/43wZ8aAM1IuE/rGjcHZJ4ikR9n2IVketm4E1U9REeuILfvwjDWpfe1E9DLGjiaCHfCp01djwl0dTtAOLj7Mdfz1fYrPX8f448sYyt7EwvB7rY5CaoBse5hsXvHbk4BPfz7gy3gCYX/EjkCvVlIdRb/CnDqskSKYSOKy7vXJyLZR2Wuxlw3rsqgOE8JeFsTkkLY2fvZOh3JQwPJjqLoJP077m4lFxW4qjQDTKyBPgLJ+wNY64niKcQwiWEmBB8lAWlT9dcYykQjQoXeL+Qs2GxUFifp6Ex3S6g2QTYBh2iRsAQJNi0Wj50YpnHNzV8MWawK03RDiSqSpEuA47k0Y9hUwoWXh5FhsTYyXIn6IaxxOST+fZlK+A2STcnACbNYSAt8fFNA2vfBuETKGmOpwopRCuj0j2mTPfl73V9bVmBoY8Xzv4HEyx0ze4ttCxMevT5gKMpSwGrqMXzAWQUSkbIoCkhR7Zh4WNf02vV7/Ae5J92wSg6taAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/f55dde07df6eadff18c42cccf6a2b72d/f1512/erd.webp 200w,\\n/static/f55dde07df6eadff18c42cccf6a2b72d/f59aa/erd.webp 400w,\\n/static/f55dde07df6eadff18c42cccf6a2b72d/d73c4/erd.webp 724w\\\"\\n              sizes=\\\"(max-width: 724px) 100vw, 724px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/f55dde07df6eadff18c42cccf6a2b72d/f8f3a/erd.png 200w,\\n/static/f55dde07df6eadff18c42cccf6a2b72d/6a8a8/erd.png 400w,\\n/static/f55dde07df6eadff18c42cccf6a2b72d/a579b/erd.png 724w\\\"\\n            sizes=\\\"(max-width: 724px) 100vw, 724px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/f55dde07df6eadff18c42cccf6a2b72d/a579b/erd.png\\\"\\n            alt=\\\"erd\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"프로젝트 폴더 루트의 \", React.createElement(_components.code, null, \"cafe_dump.sql\"), \"을 실행하면 cafe 데이터 베이스에 테이블과 데모 데이터들이 생성됩니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 610px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/96d759475adc444bff67eaefb7b35b96/574c5/cafe-db.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 47%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABd0lEQVR42o1S127DMAzU/39Y35oUzUBGE+8Z2/JWFI+ryCZdD0UPICRK5JE8SdixxNl2UcgSXa9Q1TXatsX1ev00pYx988m01p92u914HcwqkkzCsiy4rouLbGA7DhPO84xpmtjmefrhT8Yfx5FJHuTDMHCeCKMEtm3D8zxIKZEkCcqyvAeNGE1gKDWqTmMaB+6GkquqgmOKB0GALMvQ9z3iOIaQlwhxkiIvJOqmNQEhPD9gMmlk0KaDsByR14oLZiauaTs238RmeYG26w1pjtZIJlJ7jeVyibZp0CmNNzdEFAao6wZOVCKRCgQakbpwzSR5nvNZdrlwh6RdmqZ8Lw6HI7bbLYo8Q9EoPL0esX59YcJnW2PlXTl5MhoSoihieQg09maz4T3JRFKI3W7Hh8fDHmlRYXXy4VgnvjxGGlaqOeHOx9qSZgTS0/d9vmzMhDSF2O/3WCwWXFkpxa/5AG+/3H9B0MuczieuQNU/vsn8g/gv/I57B3MsssW4vUWDAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/96d759475adc444bff67eaefb7b35b96/f1512/cafe-db.webp 200w,\\n/static/96d759475adc444bff67eaefb7b35b96/f59aa/cafe-db.webp 400w,\\n/static/96d759475adc444bff67eaefb7b35b96/995d2/cafe-db.webp 610w\\\"\\n              sizes=\\\"(max-width: 610px) 100vw, 610px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/96d759475adc444bff67eaefb7b35b96/f8f3a/cafe-db.png 200w,\\n/static/96d759475adc444bff67eaefb7b35b96/6a8a8/cafe-db.png 400w,\\n/static/96d759475adc444bff67eaefb7b35b96/574c5/cafe-db.png 610w\\\"\\n            sizes=\\\"(max-width: 610px) 100vw, 610px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/96d759475adc444bff67eaefb7b35b96/574c5/cafe-db.png\\\"\\n            alt=\\\"cafe db\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"DB 접근\"), \"\\n\", React.createElement(_components.p, null, \"이번 프로젝트의 목적은 데이터베이스와의 직접적인 연결과 SQL 제어 과정을 명확히 이해하는 것이었기 때문에, ORM을 사용하지 않고 JDBC 레벨에서 SQL을 직접 작성했습니다.\"), \"\\n\", React.createElement(_components.p, null, \"DB Connection 부분만 \", React.createElement(_components.code, null, \"db/DBConnection.java\"), \"에 작성하여 공유하고, 데이터 CRUD는 DAO 객체에 각각 SQL문으로 직접 작성되어있습니다.\"), \"\\n\", React.createElement(_components.h3, null, \"DAO\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"OrderDAO\"), \"에서는 다음과 같이 \", React.createElement(_components.code, null, \"Connection\"), \", \", React.createElement(_components.code, null, \"PreparedStatement\"), \", \", React.createElement(_components.code, null, \"ResultSet\"), \"을 직접 다루며 SQL을 수행합니다.\"), \"\\n\", React.createElement(_components.p, null, \"모든 CRUD 작업마다 DB 연결, 쿼리 파라미터 처리에 필요한 \", React.createElement(_components.code, null, \"try-catch\"), \"문이 사용됩니다.\"), \"\\n\", React.createElement(_components.p, null, \"아래 코드는 OrderDAO의 insertOrder() 메서드로, 주문 생성부터 재고 차감까지 하나의 트랜잭션으로 처리합니다.\"), \"\\n\", React.createElement(_components.p, null, \"비즈니스 로직과 데이터 접근 로직이 강하게 결합되어있습니다. DB 접근 부분만 분리하는 것이 좋을 것 같습니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\">  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">insertOrder</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderItemDetail</span><span class=\\\"token punctuation\\\">></span></span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Connection</span> conn <span class=\\\"token operator\\\">=</span> <span class=\\\"token class-name\\\">DBConnection</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getConnection</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setAutoCommit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token keyword\\\">int</span> orderId<span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 주문 생성</span>\\n      <span class=\\\"token class-name\\\">String</span> orderSql <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"INSERT INTO Orders(order_date) VALUES(CURDATE())\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">PreparedStatement</span> ps <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>orderSql<span class=\\\"token punctuation\\\">,</span>\\n          <span class=\\\"token class-name\\\">Statement</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">RETURN_GENERATED_KEYS</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">executeUpdate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">ResultSet</span> rs <span class=\\\"token operator\\\">=</span> ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getGeneratedKeys</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>rs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">next</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n            orderId <span class=\\\"token operator\\\">=</span> rs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n            <span class=\\\"token keyword\\\">throw</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">SQLException</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"주문 ID 생성 실패\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token comment\\\">// 주문 항목 추가</span>\\n      <span class=\\\"token class-name\\\">String</span> itemSql <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"INSERT INTO OrderItems(order_id, product_id, quantity, price) VALUES(?, ?, ?, ?)\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">PreparedStatement</span> ps <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>itemSql<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">OrderItemDetail</span> item <span class=\\\"token operator\\\">:</span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span> orderId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>productId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">3</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>quantity<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">4</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>price<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addBatch</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n        ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">executeBatch</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      <span class=\\\"token comment\\\">// 재고 감소 처리</span>\\n      <span class=\\\"token class-name\\\">String</span> stockCheckSql <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"SELECT stock_manage FROM Products WHERE id = ?\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token class-name\\\">String</span> stockUpdateSql <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"UPDATE Stocks SET quantity = quantity - ? WHERE product_id = ?\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">PreparedStatement</span> checkPs <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>stockCheckSql<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token class-name\\\">PreparedStatement</span> updatePs <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>stockUpdateSql<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n        <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">OrderItemDetail</span> item <span class=\\\"token operator\\\">:</span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          checkPs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>productId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">ResultSet</span> rs <span class=\\\"token operator\\\">=</span> checkPs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">executeQuery</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n            <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>rs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">next</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span> rs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"stock_manage\\\"</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">==</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n              updatePs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>quantity<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n              updatePs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>productId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n              updatePs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">executeUpdate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            <span class=\\\"token punctuation\\\">}</span>\\n          <span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n      conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">commit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">catch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">SQLException</span> e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token class-name\\\">DBUtil</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">showSQLException</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"주문 저장 중 오류\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token comment\\\">// 롤백 추가</span>\\n        <span class=\\\"token class-name\\\">DBConnection</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getConnection</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">rollback</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">catch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">SQLException</span> rollbackEx<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token class-name\\\">System</span><span class=\\\"token punctuation\\\">.</span>err<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"롤백 실패: \\\"</span> <span class=\\\"token operator\\\">+</span> rollbackEx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getMessage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"Model\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"model\"), \" 패키지의 클래스(\", React.createElement(_components.code, null, \"OrderItemDetail\"), \", \", React.createElement(_components.code, null, \"OrderSummary\"), \" 등)는 DB 테이블 그대로가 아닌, \", React.createElement(_components.strong, null, \"UI 페이지마다 필요한 정보를 담는 형태\"), \"로 구성했습니다.\"), \"\\n\", React.createElement(_components.p, null, \"각 화면에서 필요한 데이터만 받고, 보여주기 위해 엔티티를 단순화한 설계로, 빠른 프로토타이핑에 초점을 두었습니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">OrderItemDetail</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">int</span> productId<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">String</span> productName<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">int</span> quantity<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">int</span> price<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">OrderItemDetail</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">int</span> productId<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">String</span> productName<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">int</span> quantity<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">int</span> price<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>productId <span class=\\\"token operator\\\">=</span> productId<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>productName <span class=\\\"token operator\\\">=</span> productName<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>quantity <span class=\\\"token operator\\\">=</span> quantity<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>price <span class=\\\"token operator\\\">=</span> price<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"model/OrderItemDetail.java\"), \"는 테이블로 명시되어 있지 않습니다. \", React.createElement(_components.code, null, \"OrderItem\"), \"과 \", React.createElement(_components.code, null, \"Stock\"), \" 두 엔티티를 혼재하여 사용하고 있습니다.\"), \"\\n\", React.createElement(_components.p, null, \"데이터 model이라기 보다는, dto에 가까운 형태입니다. model의 역할과 dto의 역할이 혼재되어 있으므로 분리가 필요합니다.\"), \"\\n\", React.createElement(_components.p, null, \"model 클래스 변수를 public으로 선언한 것은, dto의 객체가 처음 생성된 후에 읽기 외에 새로 변수를 변경하거나 하는 로직이 없기 때문에, getter를 반복하여 작성하는 것을 피하려는 의도였습니다.\"), \"\\n\", React.createElement(_components.p, null, \"하지만 추후에 캡슐화, 데이터 은닉을 중요하게 여기는 자바의 속성에 위배되는 코드라는 것을 깨달았고,\"), \"\\n\", React.createElement(_components.p, null, \"Java 16 이후 문법에서는 \", React.createElement(_components.code, null, \"record\"), \"로 선언하여 불변성을 보장할 수 있다는 것을 알게 되었습니다.\"), \"\\n\", React.createElement(_components.hr), \"\\n\", React.createElement(_components.h2, null, \"2. JDBC + DAO 구조의 문제점\"), \"\\n\", React.createElement(_components.p, null, \"JPA로 전환하기 전에, 현재 JDBC + DAO 구조에서 발견되는 주요 문제점을 정리해보겠습니다.\"), \"\\n\", React.createElement(_components.h3, null, \"반복적인 Boilerplate 코드\"), \"\\n\", React.createElement(_components.p, null, \"모든 DAO 메서드마다 \", React.createElement(_components.code, null, \"Connection\"), \", \", React.createElement(_components.code, null, \"PreparedStatement\"), \", \", React.createElement(_components.code, null, \"ResultSet\"), \"을 생성하고 닫는 코드가 반복됩니다.\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"SQLException\"), \"을 catch하고 처리하는 부분도 매번 반복됩니다. 예외 처리 로직이 바뀌면 모든 DAO를 일일이 수정해야 합니다.\"), \"\\n\", React.createElement(_components.p, null, \"DBMS 변경, SQL Dialect 변경 등 구조적 변화가 필요할 때 DAO 코드 전반을 수정해야 합니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Connection</span> conn <span class=\\\"token operator\\\">=</span> <span class=\\\"token class-name\\\">DBConnection</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getConnection</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token class-name\\\">PreparedStatement</span> ps <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>sql<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// 실제 비즈니스 로직</span>\\n<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">catch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">SQLException</span> e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token class-name\\\">DBUtil</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">showSQLException</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"...\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"SQL 의존성과 데이터베이스 종속성\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token class-name\\\">String</span> sql <span class=\\\"token operator\\\">=</span> <span class=\\\"token triple-quoted-string string\\\">\\\"\\\"\\\"\\n    SELECT o.id, o.order_date, o.status, ...\\n    FROM Orders o\\n    JOIN OrderItems oi ON o.id = oi.order_id\\n    WHERE DATE(o.order_date) = ?\\n    ...\\n    \\\"\\\"\\\"</span><span class=\\\"token punctuation\\\">;</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"JDBC에서는 위와 같이 SQL이 DAO 내부에 직접 작성되어 있어, 테이블명이나 컬럼명이 변경되면 관련 DAO 코드를 모두 수정해야 합니다.\"), \"\\n\", React.createElement(_components.p, null, \"반면 JPA에서는 엔티티 클래스와 그 필드명을 기반으로 쿼리를 작성하므로, 데이터베이스가 아닌 객체 구조에 의존합니다.\"), \"\\n\", React.createElement(_components.p, null, \"즉, SQL의 종속성이 데이터베이스에서 도메인 모델로 옮겨가며, 데이터베이스 교체나 스키마 변경에도 유연하게 대응할 수 있습니다.\"), \"\\n\", React.createElement(_components.h3, null, \"DTO와 Entity의 혼재\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"OrderItemDetail\"), \"처럼 UI 화면에 맞춘 DTO가 데이터 계층에서도 사용되고 있습니다. 이는 도메인 모델이 없고, 데이터 계층과 표현 계층이 강하게 결합되어 있음을 의미합니다.\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"OrderItemDetail\"), \"은 UI를 위한 DTO인데, DAO의 \", React.createElement(_components.code, null, \"insertOrder\"), \"에서도 그대로 사용됩니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">insertOrder</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderItemDetail</span><span class=\\\"token punctuation\\\">></span></span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">// ...</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"실제로는 \", React.createElement(_components.code, null, \"Order\"), \", \", React.createElement(_components.code, null, \"OrderItem\"), \", \", React.createElement(_components.code, null, \"Product\"), \" 같은 도메인 엔티티가 존재해야 하고, 이들 간의 연관관계가 명확히 정의되어야 합니다.\"), \"\\n\", React.createElement(_components.h3, null, \"SOLID 원칙 위반\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Single Responsibility Principle (SRP) 위반\")), \"\\n\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"OrderDAO.insertOrder()\"), \" 메서드를 보면, 하나의 메서드가 너무 많은 책임을 가지고 있습니다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"주문 생성\"), \"\\n\", React.createElement(_components.li, null, \"주문 항목 추가\"), \"\\n\", React.createElement(_components.li, null, \"재고 확인 및 차감\"), \"\\n\", React.createElement(_components.li, null, \"트랜잭션 관리\"), \"\\n\", React.createElement(_components.li, null, \"예외 처리 및 롤백 처리\"), \"\\n\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\">  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">insertOrder</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderItemDetail</span><span class=\\\"token punctuation\\\">></span></span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Connection</span> conn <span class=\\\"token operator\\\">=</span> <span class=\\\"token class-name\\\">DBConnection</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getConnection</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setAutoCommit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">int</span> orderId<span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token comment\\\">// 주문 생성</span>\\n    <span class=\\\"token class-name\\\">String</span> orderSql <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"INSERT INTO Orders(order_date) VALUES(CURDATE())\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">PreparedStatement</span> ps <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>orderSql<span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token class-name\\\">Statement</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">RETURN_GENERATED_KEYS</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">executeUpdate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">ResultSet</span> rs <span class=\\\"token operator\\\">=</span> ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getGeneratedKeys</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>rs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">next</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          orderId <span class=\\\"token operator\\\">=</span> rs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">throw</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">SQLException</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"주문 ID 생성 실패\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// 주문 항목 추가</span>\\n    <span class=\\\"token class-name\\\">String</span> itemSql <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"INSERT INTO OrderItems(order_id, product_id, quantity, price) VALUES(?, ?, ?, ?)\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">PreparedStatement</span> ps <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>itemSql<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">OrderItemDetail</span> item <span class=\\\"token operator\\\">:</span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span> orderId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>productId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">3</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>quantity<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">4</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>price<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addBatch</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n      ps<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">executeBatch</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token comment\\\">// 재고 감소 처리</span>\\n    <span class=\\\"token class-name\\\">String</span> stockCheckSql <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"SELECT stock_manage FROM Products WHERE id = ?\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token class-name\\\">String</span> stockUpdateSql <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"UPDATE Stocks SET quantity = quantity - ? WHERE product_id = ?\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">PreparedStatement</span> checkPs <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>stockCheckSql<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token class-name\\\">PreparedStatement</span> updatePs <span class=\\\"token operator\\\">=</span> conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">prepareStatement</span><span class=\\\"token punctuation\\\">(</span>stockUpdateSql<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n      <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">OrderItemDetail</span> item <span class=\\\"token operator\\\">:</span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        checkPs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>productId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">ResultSet</span> rs <span class=\\\"token operator\\\">=</span> checkPs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">executeQuery</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>rs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">next</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">&amp;&amp;</span> rs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"stock_manage\\\"</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">==</span> <span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n            updatePs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>quantity<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            updatePs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setInt</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">,</span> item<span class=\\\"token punctuation\\\">.</span>productId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n            updatePs<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">executeUpdate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token punctuation\\\">}</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    conn<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">commit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">catch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">SQLException</span> e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">DBUtil</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">showSQLException</span><span class=\\\"token punctuation\\\">(</span>e<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"주문 저장 중 오류\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token comment\\\">// 롤백 추가</span>\\n      <span class=\\\"token class-name\\\">DBConnection</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getConnection</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">rollback</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">catch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">SQLException</span> rollbackEx<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token class-name\\\">System</span><span class=\\\"token punctuation\\\">.</span>err<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">println</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"롤백 실패: \\\"</span> <span class=\\\"token operator\\\">+</span> rollbackEx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getMessage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\"), \"\\n\"), \"\\n\", React.createElement(_components.ol, {\n    start: \"2\"\n  }, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Open/Closed Principle (OCP) 위반\")), \"\\n\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"새로운 비즈니스 로직(예: 할인 적용, 포인트 적립)을 추가하려면 DAO 코드를 직접 수정해야 합니다. 확장에는 열려있지 않고, 수정에 닫혀있지도 않은 구조입니다.\"), \"\\n\"), \"\\n\", React.createElement(_components.ol, {\n    start: \"3\"\n  }, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Dependency Inversion Principle (DIP) 위반\")), \"\\n\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"상위 레벨 모듈(\", React.createElement(_components.code, null, \"OrderPanel\"), \")이 하위 레벨 모듈(\", React.createElement(_components.code, null, \"OrderDAO\"), \")에 직접 의존하고 있습니다. 추상화 계층이 없어 테스트가 어렵고, 구현체 교체가 불가능합니다.\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 492px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/418ac0b256eca7019bb6bc000143c5dc/06261/OrderPanel.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 41%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABn0lEQVR42k1Sy3KbQBDkO/yQBOz7wQILCATIyLnELvsPXLmnKv9/7QyrVMWH2Zmanert7tnMKIWustBSorYala/QdmfEYYQPDYLW6LyFtQ6xH2FcQF5yCGXBhIYyLtVcGZwKhowxuuQcRVGCU10yQYMKJZcomEx9wRj1OZjUKLjAMS/pTiTgfSYvRcp7P9uPymhEYuEpN9bAGJsYOhsw+AlSWOQEpG2VWDwfc4rTv/w/DqcCWU4DfeVwaaskbQwWTd1gXrckcZqumJcbPTBhqCZE1yd2xtdJ7g5yj/IOuDPsvMFUezTOYmgCAgEO44zgIiY/Yg0TvHIkV8L6Nsl7eDrg8fCd5b0mDxWGEIhhjUhAIzGZlxdM84r5vGDo3rHOv9D2n7SkFrHpENqIuttzBy4MGNfg0qIoJTJB/swx4nbuMcYOy3jB9XrDz49PvH284/LjC8P2By+vv9E2Z3RNxLq9Ytk2TMsVxjaQuoJ1LQEbklwUUII8kYJek1BkvLae/PE0FOibOLCyhNq3SH4XXCEnDx+ejnh8PnxbDuVTjr8ubPF/pULhygAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/418ac0b256eca7019bb6bc000143c5dc/f1512/OrderPanel.webp 200w,\\n/static/418ac0b256eca7019bb6bc000143c5dc/f59aa/OrderPanel.webp 400w,\\n/static/418ac0b256eca7019bb6bc000143c5dc/66a47/OrderPanel.webp 492w\\\"\\n              sizes=\\\"(max-width: 492px) 100vw, 492px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/418ac0b256eca7019bb6bc000143c5dc/f8f3a/OrderPanel.png 200w,\\n/static/418ac0b256eca7019bb6bc000143c5dc/6a8a8/OrderPanel.png 400w,\\n/static/418ac0b256eca7019bb6bc000143c5dc/06261/OrderPanel.png 492w\\\"\\n            sizes=\\\"(max-width: 492px) 100vw, 492px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/418ac0b256eca7019bb6bc000143c5dc/06261/OrderPanel.png\\\"\\n            alt=\\\"OrderPanel\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n  </a>\\n    </span>\"\n    }\n  })), \"\\n\"), \"\\n\", React.createElement(_components.hr), \"\\n\", React.createElement(_components.h2, null, \"3. JPA + SOLID 원칙 준수로 리팩토링\"), \"\\n\", React.createElement(_components.p, null, \"새로운 프로젝트 구조와 주요 변경사항은 다음과 같습니다.\"), \"\\n\", React.createElement(_components.ol, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"JPA Entity 작성\"), \": \", React.createElement(_components.code, null, \"domain\"), \"에 JPA entity를 작성합니다. 기존 model은 DTO 역할에 가깝기 때문에 DTO로 변경합니다.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Repository 패턴 도입\"), \": DAO의 DB 접근 로직을 JPA \", React.createElement(_components.code, null, \"EntityManager\"), \" 사용하는 Repository로 교체하여 \", React.createElement(_components.code, null, \"repository\"), \"에 작성합니다.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Service 계층 분리\"), \": 비즈니스 로직을 DAO에서 분리하여 \", React.createElement(_components.code, null, \"service\"), \"에 작성합니다.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"의존성 주입(DI)\"), \": service, repository는 인터페이스를 작성하고, 인터페이스를 상속받는 구현체를 작성합니다. \", React.createElement(_components.code, null, \"JPAConfig\"), \"에서 \", React.createElement(_components.code, null, \"service\"), \"와 \", React.createElement(_components.code, null, \"repository\"), \"를 생성하고 주입합니다.\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"DTO 명시\"), \": domain entity 클래스와 구별하기 위해 DTO 클래스명에 DTO를 붙여줍니다. DTO를 \", React.createElement(_components.code, null, \"record\"), \"로 선언하여 불변 객체로 만듭니다.\"), \"\\n\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"text\\\"><pre class=\\\"language-text\\\"><code class=\\\"language-text\\\">myProj/\\n ┣ domain/\\n ┃ ┣ Orders.java\\n ┃ ┣ OrderItems.java\\n ┃ ┣ Products.java\\n ┃ ┗ Stocks.java\\n ┣ repository/\\n ┃ ┣ OrderRepository.java\\n ┃ ┣ OrderRepositoryImpl.java\\n ┃ ┣ ProductRepositoryImpl.java\\n ┃ ┣ ProductRepository.java\\n ┃ ┗ StockRepository.java\\n ┃ ┗ StockRepositoryImpl.java\\n ┣ service/\\n ┃ ┣ OrderService.java\\n ┃ ┣ OrderServiceImpl.java\\n ┃ ┣ ProductService.java\\n ┃ ┣ ProductServiceImpl.java\\n ┃ ┗ StockService.java\\n ┃ ┣ StockServiceImpl.java\\n ┣ dto/\\n ┃ ┣ OrderSummaryDTO.java\\n ┃ ┗ OrderItemDetailDTO.java\\n ┣ panels/\\n ┃ ┣ ProductPanel.java\\n ┃ ┣ StockPanel.java\\n ┃ ┣ OrderPanel.java\\n ┃ ┗ dialogs/\\n ┃   ┣ ProductAddDialog.java\\n ┃   ┣ ProductEditDialog.java\\n ┃   ┣ ProductDeleteDialog.java\\n ┃   ┗ OrderDetailDialog.java\\n ┗ config/\\n   ┗ JPAConfig.java</code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.hr), \"\\n\", React.createElement(_components.p, null, \"프로젝트를 maven으로 전환하려면 \", React.createElement(_components.code, null, \"pom.xml\"), \", \", React.createElement(_components.code, null, \"recourses\"), \"을 작성하고, 기존 프로젝트를 \", React.createElement(_components.code, null, \"src/main/java\"), \" 경로에 넣어주면 됩니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 273px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/c458fcb87da811003b780eff426754b2/8b660/jpa-xml.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 142.00000000000003%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAcCAYAAABh2p9gAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEVElEQVR42pWV23LaVhSGeYpOZ9peJAEjhM5IQuiAhA4gQGAwB9v4bMd2kiad3jRpXyLNTB/479rb+FAbu5OLjyVpSz9La/9rqSQpOjTDQhh1kfZn2Ns/wmJ3hZ35LubLfQyLCXb3DnF6fon+YITpbEnXV9AbNlpeCKvpwXJ8NFsBbIqluqxBVg2Ytgfb7yOKU7h+SERI0hwtt400Y9czdPsF+sMxkiyHqpuUiA2NhFnUG02eGBcUJRUKiTYdF1GSI3JtLLv0B4aOiiChWpOwJdRRFdaRzsX1c4/hggxJMWCYDvygA8elV2i2IFM5+NrdPez8IdoTbjIkFK3B6xB3Bxjv7GK62EedBMQND92yaa3k6RV4ehmBKSC2asgdCb1WDX1fhquxte+j5BvlG0GLBG0BuV3DOBDRd2v8umdU4HPKT+KmtdJtffim0CsntKNZXiCIEl5kVjdpXcfH1Ddcu9sUZp1bb4WdlIsLorKujf5sHTduyq11WDZsc1iWPfLc8ckZcjIzs4mk6N8neGsLhmU7MOwAZiumTD1u2O/O8B5qRd1AXQ+heTPs7x+gKLYhkKFrLFN6E5mVaAPPCGrc0KYTwKNatsKESDlhNoBquahIGrbojx9SlfWHm3LvfolFzULPD3AxCHExGeN8e4yjQR/XixmKVhN+TUCiqUhUBTGREm1VhXAjqKIuSRyJqEoy2pKIE72KsangNPbxcZzj91mB98MUv00H/LhQqhipAmdArLQtDDSJBKmHJTMmEiiEYGaY0+TxmzG2nAGcdAEv30OTotmZ8diIpnijxygbCafSSFE1Uxw0FJREzYWcfVnzGVvZn5ilV+ikH1FOv6Ca/IFm9xOS2V+YXH/D9Porlr/+gwUxufqG7cuvGF/9Db37GQd2CyVbl8gabMKk8DyahUGX+jjCp9DDKXXLIU2f4yDCOc3Jt2kXF0nGYeeMM9q4I7rvve9h2KihFDZeo639TH1cRr9Zxsh8hd1YxGVfxrushkz+ET3tJ+R0T09l8YbeGnbcJxL9F+rt1yipigJVoQEryzAbJvJeD62Wi+FwSP3coUmd0Bu4ZHi6R9N43IRMMK3SrV1E8hYbsGl3yEc8+25MdpYY0DfF8dp4U6lRC8qPBux/EYm7aVOXKFMSdPMJ0t4AxWhKg6JNPT3kfc16upcPIdaVjdOm/nja1KmlVPrQWOkYfpQiockdJT06ThDGXX7cDmMu+L+9zJQFEtRNG4uiwGo2x9nqAIeLJQ7nS6x25pgNC4xGEwh19S6jF78pqqzgmDrjohPjLLDxtu3g1LPwIQtxHjRx6Bi4bOlwqfDCg9d8IsgWylTMkSqSZSy88pbIJkskox208xHFGa0b+KEiIVQk7Op1lCX9eUH2UyMMyvDIMjBvurjuRrhM2/jQT3GVRTgJHJyELo4MEQFlWH0pw/sayjCsNuL2BEfTCU52ZrhYLjh75MnDcYEGeU2QtBdr+C+DF54JMXxFtAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/c458fcb87da811003b780eff426754b2/f1512/jpa-xml.webp 200w,\\n/static/c458fcb87da811003b780eff426754b2/c4112/jpa-xml.webp 273w\\\"\\n              sizes=\\\"(max-width: 273px) 100vw, 273px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/c458fcb87da811003b780eff426754b2/f8f3a/jpa-xml.png 200w,\\n/static/c458fcb87da811003b780eff426754b2/8b660/jpa-xml.png 273w\\\"\\n            sizes=\\\"(max-width: 273px) 100vw, 273px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/c458fcb87da811003b780eff426754b2/8b660/jpa-xml.png\\\"\\n            alt=\\\"maven으로 변경\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"자세한 내용은 코드를 참고하길 바랍니다.\"), \"\\n\", React.createElement(_components.h3, null, \"1) JPA Entity 작성\"), \"\\n\", React.createElement(_components.p, null, \"domain에 데이터 테이블을 기반으로 JAP Entity를 작성해줍니다.\"), \"\\n\", React.createElement(_components.p, null, \"기존 DTO는 UI 중심이었지만, domain은 데이터 구조 중심으로 로직을 작성하게 됩니다.\"), \"\\n\", React.createElement(_components.p, null, \"jpql을 작성하는 경우에도, 이 Entity 구조를 기반으로 작성하게 됩니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token annotation punctuation\\\">@Entity</span>\\n<span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Orders</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Id</span>\\n  <span class=\\\"token annotation punctuation\\\">@GeneratedValue</span><span class=\\\"token punctuation\\\">(</span>strategy <span class=\\\"token operator\\\">=</span> <span class=\\\"token class-name\\\">GenerationType</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">IDENTITY</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token comment\\\">// auto increase</span>\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">int</span> id<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Temporal</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">TemporalType</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token constant\\\">DATE</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token annotation punctuation\\\">@Column</span><span class=\\\"token punctuation\\\">(</span>name <span class=\\\"token operator\\\">=</span> <span class=\\\"token string\\\">\\\"order_date\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token class-name\\\">LocalDate</span> orderDate<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">boolean</span> status<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token comment\\\">// 기본생성자 - JPA에서 사용됨</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span> orderDate<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">boolean</span> status<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>orderDate <span class=\\\"token operator\\\">=</span> orderDate<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>status <span class=\\\"token operator\\\">=</span> status<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">int</span> <span class=\\\"token function\\\">getId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> id<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">setId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">int</span> id<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>id <span class=\\\"token operator\\\">=</span> id<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">LocalDate</span> <span class=\\\"token function\\\">getOrderDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> orderDate<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">setOrderDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span> orderDate<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>orderDate <span class=\\\"token operator\\\">=</span> orderDate<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">boolean</span> <span class=\\\"token function\\\">isStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> status<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">setStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">boolean</span> status<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>status <span class=\\\"token operator\\\">=</span> status<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">String</span> <span class=\\\"token function\\\">toString</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token string\\\">\\\"Orders{\\\"</span> <span class=\\\"token operator\\\">+</span>\\n        <span class=\\\"token string\\\">\\\"id=\\\"</span> <span class=\\\"token operator\\\">+</span> id <span class=\\\"token operator\\\">+</span>\\n        <span class=\\\"token string\\\">\\\", orderDate=\\\"</span> <span class=\\\"token operator\\\">+</span> orderDate <span class=\\\"token operator\\\">+</span>\\n        <span class=\\\"token string\\\">\\\", status=\\\"</span> <span class=\\\"token operator\\\">+</span> status <span class=\\\"token operator\\\">+</span>\\n        <span class=\\\"token char\\\">'}'</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"2) Repository 계층 작성\"), \"\\n\", React.createElement(_components.p, null, \"JPA를 사용하면 기본 CRUD는 EntityManager가 제공하므로, Repository는 단순히 인터페이스로 선언하고 필요한 커스텀 쿼리만 추가합니다.\"), \"\\n\", React.createElement(_components.p, null, \"구현체는 EntityManager를 사용하여 CRUD를 수행하도록 작성합니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">OrderRepository</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">save</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Orders</span> order<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token class-name\\\">Optional</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">findById</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Integer</span> id<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">findByOrderDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span> date<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">updateStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Integer</span> orderId<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">String</span> status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">package</span> <span class=\\\"token namespace\\\">myProj<span class=\\\"token punctuation\\\">.</span>repository</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">jakarta<span class=\\\"token punctuation\\\">.</span>persistence<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">EntityManager</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">jakarta<span class=\\\"token punctuation\\\">.</span>persistence<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">TypedQuery</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">java<span class=\\\"token punctuation\\\">.</span>time<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">LocalDate</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">java<span class=\\\"token punctuation\\\">.</span>util<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">List</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">java<span class=\\\"token punctuation\\\">.</span>util<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Optional</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">myProj<span class=\\\"token punctuation\\\">.</span>domain<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Orders</span></span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">OrderRepositoryImpl</span> <span class=\\\"token keyword\\\">implements</span> <span class=\\\"token class-name\\\">OrderRepository</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">final</span> <span class=\\\"token class-name\\\">EntityManager</span> em<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">OrderRepositoryImpl</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">EntityManager</span> em<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>em <span class=\\\"token operator\\\">=</span> em<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">save</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Orders</span> order<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">==</span> <span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">persist</span><span class=\\\"token punctuation\\\">(</span>order<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">else</span> <span class=\\\"token punctuation\\\">{</span>\\n      em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">merge</span><span class=\\\"token punctuation\\\">(</span>order<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">Optional</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">findById</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Integer</span> id<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token class-name\\\">Optional</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">ofNullable</span><span class=\\\"token punctuation\\\">(</span>em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">find</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">class</span><span class=\\\"token punctuation\\\">,</span> id<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">findByOrderDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span> date<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">TypedQuery</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">></span></span> query <span class=\\\"token operator\\\">=</span> em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createQuery</span><span class=\\\"token punctuation\\\">(</span>\\n        <span class=\\\"token string\\\">\\\"SELECT o FROM Orders o WHERE o.orderDate = :date ORDER BY o.id DESC\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">class</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    query<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setParameter</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"date\\\"</span><span class=\\\"token punctuation\\\">,</span> date<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">return</span> query<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getResultList</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">updateStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Integer</span> orderId<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">String</span> status<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">Orders</span> order <span class=\\\"token operator\\\">=</span> em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">find</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">class</span><span class=\\\"token punctuation\\\">,</span> orderId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>order <span class=\\\"token operator\\\">!=</span> <span class=\\\"token keyword\\\">null</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setStatus</span><span class=\\\"token punctuation\\\">(</span>status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"3) Service 계층 작성\"), \"\\n\", React.createElement(_components.p, null, \"Service 계층은 비즈니스 로직을 담당하며, Repository를 의존성으로 주입받아 데이터를 처리합니다.\"), \"\\n\", React.createElement(_components.p, null, \"DAO에서 직접 데이터 접근과 비즈니스 로직을 함께 처리하던 구조에서 벗어나, 책임이 명확히 분리됩니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">interface</span> <span class=\\\"token class-name\\\">OrderService</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderSummaryDTO</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">getOrdersByDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span> date<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">ProductDTO</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">getAllProducts</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">createOrder</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderItemDetailDTO</span><span class=\\\"token punctuation\\\">></span></span> orderItems<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderItemDetailDTO</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">getOrderItems</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Integer</span> orderId<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">updateOrderStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Integer</span> orderId<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token class-name\\\">String</span> status<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"OrderServiceImpl\"), \"은 주문 생성, 조회, 상태 변경 등 비즈니스 로직의 중심이 되는 클래스입니다.\"), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.code, null, \"createOrder()\"), \"에서 여러 테이블에 접근해야하기 때문에 여러 Repository를 조합해서 하나의 트랜잭션을 처리하고 있습니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">OrderServiceImpl</span> <span class=\\\"token keyword\\\">implements</span> <span class=\\\"token class-name\\\">OrderService</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">final</span> <span class=\\\"token class-name\\\">OrderRepository</span> orderRepository<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">final</span> <span class=\\\"token class-name\\\">ProductRepository</span> productRepository<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">final</span> <span class=\\\"token class-name\\\">StockRepository</span> stockRepository<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">final</span> <span class=\\\"token class-name\\\">EntityManager</span> em<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">OrderServiceImpl</span><span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token class-name\\\">OrderRepository</span> orderRepository<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token class-name\\\">ProductRepository</span> productRepository<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token class-name\\\">StockRepository</span> stockRepository<span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token class-name\\\">EntityManager</span> em<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>orderRepository <span class=\\\"token operator\\\">=</span> orderRepository<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>productRepository <span class=\\\"token operator\\\">=</span> productRepository<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>stockRepository <span class=\\\"token operator\\\">=</span> stockRepository<span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>em <span class=\\\"token operator\\\">=</span> em<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderSummaryDTO</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">getOrdersByDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span> date<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">></span></span> orders <span class=\\\"token operator\\\">=</span> orderRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">findByOrderDate</span><span class=\\\"token punctuation\\\">(</span>date<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">return</span> orders<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stream</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span>order <span class=\\\"token operator\\\">-></span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">int</span> itemCount <span class=\\\"token operator\\\">=</span> order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getOrderItems</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">size</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">int</span> totalPrice <span class=\\\"token operator\\\">=</span> order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getOrderItems</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stream</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n              <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">mapToInt</span><span class=\\\"token punctuation\\\">(</span>item <span class=\\\"token operator\\\">-></span> item<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getPrice</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">*</span> item<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getQuantity</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n              <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">sum</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n          <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">OrderSummaryDTO</span><span class=\\\"token punctuation\\\">(</span>\\n              order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getOrderDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              itemCount<span class=\\\"token punctuation\\\">,</span>\\n              totalPrice\\n          <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">collect</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Collectors</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">toList</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">ProductDTO</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">getAllProducts</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Products</span><span class=\\\"token punctuation\\\">></span></span> products <span class=\\\"token operator\\\">=</span> productRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">findAll</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">return</span> products<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stream</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span>product <span class=\\\"token operator\\\">-></span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">ProductDTO</span><span class=\\\"token punctuation\\\">(</span>\\n              product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getName</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getCategory</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getPrice</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isStockManage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n          <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">collect</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Collectors</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">toList</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">createOrder</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderItemDetailDTO</span><span class=\\\"token punctuation\\\">></span></span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">EntityTransaction</span> tx <span class=\\\"token operator\\\">=</span> em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getTransaction</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">{</span>\\n      tx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 1. 주문 생성</span>\\n      <span class=\\\"token class-name\\\">Orders</span> order <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setOrderDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">now</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"ORDER\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 2. 주문 항목 추가</span>\\n      <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">OrderItemDetailDTO</span> dto <span class=\\\"token operator\\\">:</span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token class-name\\\">Products</span> product <span class=\\\"token operator\\\">=</span> productRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">findById</span><span class=\\\"token punctuation\\\">(</span>dto<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">productId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n            <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">orElseThrow</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-></span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">IllegalArgumentException</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"상품을 찾을 수 없습니다.\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n        <span class=\\\"token class-name\\\">OrderItems</span> orderItem <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">OrderItems</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        orderItem<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setProduct</span><span class=\\\"token punctuation\\\">(</span>product<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        orderItem<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setQuantity</span><span class=\\\"token punctuation\\\">(</span>dto<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">quantity</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        orderItem<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setPrice</span><span class=\\\"token punctuation\\\">(</span>dto<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">price</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n        order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addOrderItem</span><span class=\\\"token punctuation\\\">(</span>orderItem<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n        <span class=\\\"token comment\\\">// 3. 재고 차감 (재고 관리 대상인 경우만)</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isStockManage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token class-name\\\">Stocks</span> stock <span class=\\\"token operator\\\">=</span> stockRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">findByProductId</span><span class=\\\"token punctuation\\\">(</span>product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n              <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">orElseThrow</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-></span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">IllegalStateException</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"재고 정보가 없습니다.\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n          stock<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">decrease</span><span class=\\\"token punctuation\\\">(</span>dto<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">quantity</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      orderRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">save</span><span class=\\\"token punctuation\\\">(</span>order<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      tx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">commit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">catch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Exception</span> e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>tx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isActive</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        tx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">rollback</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token keyword\\\">throw</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">RuntimeException</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"주문 생성 중 오류 발생\\\"</span><span class=\\\"token punctuation\\\">,</span> e<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"4) JPAConfig 설정\"), \"\\n\", React.createElement(_components.p, null, \"JPAConfig는 JPA 환경 초기화와 객체 간 의존성 관리를 담당하는 클래스입니다.\"), \"\\n\", React.createElement(_components.p, null, \"EntityManager와 각 Repository, Service의 의존성을 관리합니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">JPAConfig</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">EntityManagerFactory</span> emf<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">private</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">EntityManager</span> em<span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">init</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    emf <span class=\\\"token operator\\\">=</span> <span class=\\\"token class-name\\\">Persistence</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createEntityManagerFactory</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"cafeDB\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    em <span class=\\\"token operator\\\">=</span> emf<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">createEntityManager</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token comment\\\">// Repository 생성</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">OrderRepository</span> <span class=\\\"token function\\\">orderRepository</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">OrderRepositoryImpl</span><span class=\\\"token punctuation\\\">(</span>em<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">ProductRepository</span> <span class=\\\"token function\\\">productRepository</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">ProductRepositoryImpl</span><span class=\\\"token punctuation\\\">(</span>em<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">StockRepository</span> <span class=\\\"token function\\\">stockRepository</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">StockRepositoryImpl</span><span class=\\\"token punctuation\\\">(</span>em<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n  <span class=\\\"token comment\\\">// Service 생성</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token class-name\\\">OrderService</span> <span class=\\\"token function\\\">orderService</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">OrderServiceImpl</span><span class=\\\"token punctuation\\\">(</span>\\n        <span class=\\\"token function\\\">orderRepository</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token function\\\">productRepository</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n        <span class=\\\"token function\\\">stockRepository</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n        em\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n<span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">.</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">close</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>em <span class=\\\"token operator\\\">!=</span> <span class=\\\"token keyword\\\">null</span> <span class=\\\"token operator\\\">&amp;&amp;</span> em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isOpen</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">close</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n    <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>emf <span class=\\\"token operator\\\">!=</span> <span class=\\\"token keyword\\\">null</span> <span class=\\\"token operator\\\">&amp;&amp;</span> emf<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isOpen</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      emf<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">close</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 557px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/ecb3b27846ab71ff5673f231f61d5f96/fdbc5/init.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 37.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABO0lEQVR42o1RWXaDMBDjHmlYbRaz2AYMIRtJ1/ufSJ1xmjb9aj/0JBtGntEEqijgURaocomqbiHtAZ0ZYHuHpjNotfX3ealQKuYamSwRxgkh/YXgY7/gdTdjHUdcpwmu0xBKQzWazCzq1qAhQzaKEoE4FcSZxzZKvvEUxp6Di3N4WxY8uxHv84yjMaiomM1a3UMWle9M5AVSMktF4XUmmUs65x6s+bGgtSNqKmSw1sNEXWnYwcHQyMyD28GaHlpVPoqe/uE47Dj5s2o69OOMoqoR+ExISHpByBwZvcYfuDORVwhpNB5ns42JE2zCyON2d+O79iPvJ4f1vGJ/XHE6X7FbTl6fLy9YDivGvofpultuFPo9v0eEX/d+KYq6STOJjDp8zIXZQ0jf+b3gLwS8uZ9NPWwt+q3/Y8aGn4DX6kSi3YW/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/ecb3b27846ab71ff5673f231f61d5f96/f1512/init.webp 200w,\\n/static/ecb3b27846ab71ff5673f231f61d5f96/f59aa/init.webp 400w,\\n/static/ecb3b27846ab71ff5673f231f61d5f96/298c9/init.webp 557w\\\"\\n              sizes=\\\"(max-width: 557px) 100vw, 557px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/ecb3b27846ab71ff5673f231f61d5f96/f8f3a/init.png 200w,\\n/static/ecb3b27846ab71ff5673f231f61d5f96/6a8a8/init.png 400w,\\n/static/ecb3b27846ab71ff5673f231f61d5f96/fdbc5/init.png 557w\\\"\\n            sizes=\\\"(max-width: 557px) 100vw, 557px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/ecb3b27846ab71ff5673f231f61d5f96/fdbc5/init.png\\\"\\n            alt=\\\"JPAConfig.init()\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n  </a>\\n    </span>\"\n    }\n  }), \"\\nMain에서 JPAConfig를 init하고,\"), \"\\n\", React.createElement(_components.p, null, \"패널(view) 생성 시 다음과 같이 사용합니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\">    tabbedPane<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addTab</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"상품관리\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">ProductPanel</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">JPAConfig</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">productService</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    tabbedPane<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addTab</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"재고관리\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">StockPanel</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">JPAConfig</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stockService</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    tabbedPane<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addTab</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"주문관리\\\"</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">OrderPanel</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">JPAConfig</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">orderService</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"5) DTO 작성\"), \"\\n\", React.createElement(_components.p, null, \"UI(view)단에서 데이터를 전달받거나 표시할 때는 Entity 대신 DTO를 사용합니다.\"), \"\\n\", React.createElement(_components.p, null, \"기존 model이 DTO처럼 사용되고 있었기 때문에, 위치와 클래스명을 DTO에 맞게 변경하였고,\"), \"\\n\", React.createElement(_components.p, null, \"DTO는 데이터 변환에 사용되어 한번 생성되면 내용이 바뀌어서는 안되므로, record로 선언하여 불변성을 유지하고, 계층 간 의존성을 최소화했습니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\"><span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">record</span> <span class=\\\"token class-name\\\">OrderSummaryDTO</span><span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token keyword\\\">int</span> id<span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token class-name\\\">LocalDate</span> orderDate<span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token class-name\\\">String</span> status<span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token keyword\\\">int</span> itemCount<span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token keyword\\\">int</span> totalPrice\\n<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">String</span> <span class=\\\"token function\\\">getStatusString</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">switch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>status<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">case</span> <span class=\\\"token string\\\">\\\"ORDER\\\"</span> <span class=\\\"token operator\\\">-></span> <span class=\\\"token string\\\">\\\"주문\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">case</span> <span class=\\\"token string\\\">\\\"PREPARE\\\"</span> <span class=\\\"token operator\\\">-></span> <span class=\\\"token string\\\">\\\"준비중\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">case</span> <span class=\\\"token string\\\">\\\"COMPLETE\\\"</span> <span class=\\\"token operator\\\">-></span> <span class=\\\"token string\\\">\\\"완료\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token keyword\\\">default</span> <span class=\\\"token operator\\\">-></span> <span class=\\\"token string\\\">\\\"\\\"</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"아래와 같이 Repository에서 조회 결과를 entity -> dto로 변환하거나,\\nCreate, Update 작업 시 dto -> entity로 변환하여 사용합니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<div class=\\\"gatsby-highlight\\\" data-language=\\\"java\\\"><pre class=\\\"language-java\\\"><code class=\\\"language-java\\\">  <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderSummaryDTO</span><span class=\\\"token punctuation\\\">></span></span> <span class=\\\"token function\\\">getOrdersByDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span> date<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">></span></span> orders <span class=\\\"token operator\\\">=</span> orderRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">findByOrderDate</span><span class=\\\"token punctuation\\\">(</span>date<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">return</span> orders<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stream</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">map</span><span class=\\\"token punctuation\\\">(</span>order <span class=\\\"token operator\\\">-></span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token keyword\\\">int</span> itemCount <span class=\\\"token operator\\\">=</span> order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getOrderItems</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">size</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n          <span class=\\\"token keyword\\\">int</span> totalPrice <span class=\\\"token operator\\\">=</span> order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getOrderItems</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">stream</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n              <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">mapToInt</span><span class=\\\"token punctuation\\\">(</span>item <span class=\\\"token operator\\\">-></span> item<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getPrice</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">*</span> item<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getQuantity</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n              <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">sum</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n          <span class=\\\"token keyword\\\">return</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">OrderSummaryDTO</span><span class=\\\"token punctuation\\\">(</span>\\n              order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getOrderDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>\\n              itemCount<span class=\\\"token punctuation\\\">,</span>\\n              totalPrice\\n          <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n        <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">collect</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Collectors</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">toList</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n\\n    <span class=\\\"token annotation punctuation\\\">@Override</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">createOrder</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">List</span><span class=\\\"token generics\\\"><span class=\\\"token punctuation\\\">&lt;</span><span class=\\\"token class-name\\\">OrderItemDetailDTO</span><span class=\\\"token punctuation\\\">></span></span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">EntityTransaction</span> tx <span class=\\\"token operator\\\">=</span> em<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getTransaction</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token keyword\\\">try</span> <span class=\\\"token punctuation\\\">{</span>\\n      tx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">begin</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 1. 주문 생성</span>\\n      <span class=\\\"token class-name\\\">Orders</span> order <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">Orders</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setOrderDate</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">LocalDate</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">now</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setStatus</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"ORDER\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n      <span class=\\\"token comment\\\">// 2. 주문 항목 추가</span>\\n      <span class=\\\"token keyword\\\">for</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">OrderItemDetailDTO</span> dto <span class=\\\"token operator\\\">:</span> items<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        <span class=\\\"token class-name\\\">Products</span> product <span class=\\\"token operator\\\">=</span> productRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">findById</span><span class=\\\"token punctuation\\\">(</span>dto<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">productId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n            <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">orElseThrow</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-></span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">IllegalArgumentException</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"상품을 찾을 수 없습니다.\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n        <span class=\\\"token class-name\\\">OrderItems</span> orderItem <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">OrderItems</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        orderItem<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setProduct</span><span class=\\\"token punctuation\\\">(</span>product<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        orderItem<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setQuantity</span><span class=\\\"token punctuation\\\">(</span>dto<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">quantity</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        orderItem<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setPrice</span><span class=\\\"token punctuation\\\">(</span>dto<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">price</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n        order<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addOrderItem</span><span class=\\\"token punctuation\\\">(</span>orderItem<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n        <span class=\\\"token comment\\\">// 3. 재고 차감 (재고 관리 대상인 경우만)</span>\\n        <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isStockManage</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n          <span class=\\\"token class-name\\\">Stocks</span> stock <span class=\\\"token operator\\\">=</span> stockRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">findByProductId</span><span class=\\\"token punctuation\\\">(</span>product<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">getId</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n              <span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">orElseThrow</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-></span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">IllegalStateException</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"재고 정보가 없습니다.\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n          stock<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">decrease</span><span class=\\\"token punctuation\\\">(</span>dto<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">quantity</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n        <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n\\n      orderRepository<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">save</span><span class=\\\"token punctuation\\\">(</span>order<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      tx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">commit</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n\\n    <span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">catch</span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Exception</span> e<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n      <span class=\\\"token keyword\\\">if</span> <span class=\\\"token punctuation\\\">(</span>tx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">isActive</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n        tx<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">rollback</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n      <span class=\\\"token punctuation\\\">}</span>\\n      <span class=\\\"token keyword\\\">throw</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">RuntimeException</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"주문 생성 중 오류 발생\\\"</span><span class=\\\"token punctuation\\\">,</span> e<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token punctuation\\\">}</span></code></pre></div>\"\n    }\n  }), \"\\n\", React.createElement(_components.h2, null, \"4. MVC와 계층형 아키텍처\"), \"\\n\", React.createElement(_components.p, null, \"이번에 리팩토링한 코드는 \", React.createElement(_components.strong, null, \"MVC 패턴\"), \"을 기반으로 하되, \", React.createElement(_components.strong, null, \"계층형 아키텍처(Layered Architecture)\"), \" 를 일부 적용한 구조입니다.\"), \"\\n\", React.createElement(_components.p, null, \"MVC는 화면, 로직, 데이터를 명확히 분리하는 구조이고, 계층형 아키텍처는 각 역할을 더 세분화해 의존성과 책임을 명확히 하는 방식입니다.\"), \"\\n\", React.createElement(_components.p, null, \"이번 구조에서는 MVC의 Controller와 Model 사이에 Service 계층을 중간에 두어 비즈니스 로직을 분리했습니다.\\n즉, UI는 화면과 입력만 담당하고, 데이터 처리나 트랜잭션은 모두 Service에서 담당합니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/13d1b017c18ce009398db0b6c0c7363a/c4a18/new.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 27.999999999999996%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVR42nWNT0sbYRjE82V6s/QTeJBequeCeDBFelAQD0Lx1iiIba+F0outKOhZWyjUQ1v/JIjRpiKpJlGTmGw22SjNmt193903m/5819BbPQzDzDMzT8wPFP9DoDpUaw0KF5fkLsoUihXq1vWdL+/pRIgFSqFUNNAzlC70EPLHbmNaVxj1huYmN46rcyH+P0QjOut3wh5Hg64IcDz/7qvSB1dK2sJD+AFht4uUAZ6+R+FO+BcpBMKxNXtad/Glr7WrtewNji9XmVozeLVRJ98858Wvd8xmF3l9ukKpYLCRSPEpkeTzwj61fAFrdZyrlec0Po5iFX9jzs7QnJnAnIzjlIvE+t+UGHxb4dn7Msn8Hk92pxk5SBBPz3GQPGZx5AtL8a98GNskm0xhzD/Emu/DePmAfPo7l8NDNJ8+pjrwiPZJltj2SYstjaOSg6sEO+YRW2aGzHUO4QWcpWvkUhWKmQa+J3TpG63DdezjTZT0aP9M09rW3u4PhG1zC5VApmrbNutRAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/13d1b017c18ce009398db0b6c0c7363a/f1512/new.webp 200w,\\n/static/13d1b017c18ce009398db0b6c0c7363a/f59aa/new.webp 400w,\\n/static/13d1b017c18ce009398db0b6c0c7363a/47a22/new.webp 800w,\\n/static/13d1b017c18ce009398db0b6c0c7363a/5bb53/new.webp 1200w,\\n/static/13d1b017c18ce009398db0b6c0c7363a/a31b4/new.webp 1291w\\\"\\n              sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/13d1b017c18ce009398db0b6c0c7363a/f8f3a/new.png 200w,\\n/static/13d1b017c18ce009398db0b6c0c7363a/6a8a8/new.png 400w,\\n/static/13d1b017c18ce009398db0b6c0c7363a/7842b/new.png 800w,\\n/static/13d1b017c18ce009398db0b6c0c7363a/5ece7/new.png 1200w,\\n/static/13d1b017c18ce009398db0b6c0c7363a/c4a18/new.png 1291w\\\"\\n            sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/13d1b017c18ce009398db0b6c0c7363a/7842b/new.png\\\"\\n            alt=\\\"개선된 아키텍쳐 구조\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.h3, null, \"MVC\"), \"\\n\", React.createElement(_components.p, null, \"MVC는 Model, View, Controller의 앞 글자를 딴 것으로 애플리케이션을 구성하는 요소를 역할에 따라 세 가지로 분리하는 설계 방식입니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/2e8d01bf9488190087be00c904b43124/9fabd/mvc.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAC4jAAAuIwF4pT92AAACgUlEQVR42rWT309SYRjHCUlmk06NH+FGi5GOxuZduW6Ui/4GrlxKrbhpeFe33NXWBXihjm6yOTftxG9BE4SzfpEEIgcQJAQVT5KTmLm2avPd2/OabQSs2VbP9t3znOd8z+f9cd6Xx/vfYTJhPsmPPIErM8mNUV+qZHYt5S3eRNEyl+LMvkRx1OpjLtd6/xgMwwhInkun9RzGOLKzj5yxHPayRRzd/YJK0Jtl04O13mMBnTFWH68eYH+WQ8H8R7yQK+MXG59Qch9jd/x4wBNENE23kAerJ3SNfsUGfcl1VzC/4wmtVTyhQsU9l97yT71me4kHJsv/m+2Ugk7XDUjiPEhd12sMiqLOCoVCpUajaVUoFG3QutDMJxaLRQKBoA/KtqMBWxtMRqNRqNVq5d09PQqdTieVKRTdarVa1GQWh3VHR4dEJBJ1yeVyKfHB0g+3imRekyXJQFePan6Tff4VZ0AtDbMz27wq+k3yBh1ODdgj2f4x+/zQE3/4lj2aG7g/QXeC5RRZJhEZ4OGU4+KzSGZwMhi5Pb6weOd59kO/J1G8Pg2MMWDxbG/T+sx3jJeqBwiA2P4ui5f3ECI9qzNgBEi7TCZTAfAS1H1jrvmhla8YzuU68sTXMPnGn9tGWfDbImk9z70MwG8YM4VdNJvaxDOJAn65WUXko+Fp2z2A9BKYRCLpglppmXLcTewh7IquIvviCnZEMtibKCD2M5xPYPEm/GHdfIarBlbLpcD7MgeZ82e3t+AgVyyTTj1AOilKpqKoc0qoRQ8eP705E89X4CqWfGyRI5pNbpTcsVx1HFhwH00CE023j9AMiP5N5F39zzAYDCdHGPDWiv6Za/z/Ln4A+CZrD9EZSigAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/2e8d01bf9488190087be00c904b43124/f1512/mvc.webp 200w,\\n/static/2e8d01bf9488190087be00c904b43124/f59aa/mvc.webp 400w,\\n/static/2e8d01bf9488190087be00c904b43124/47a22/mvc.webp 800w,\\n/static/2e8d01bf9488190087be00c904b43124/5bb53/mvc.webp 1200w,\\n/static/2e8d01bf9488190087be00c904b43124/485a2/mvc.webp 1600w,\\n/static/2e8d01bf9488190087be00c904b43124/b1218/mvc.webp 2000w\\\"\\n              sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/2e8d01bf9488190087be00c904b43124/f8f3a/mvc.png 200w,\\n/static/2e8d01bf9488190087be00c904b43124/6a8a8/mvc.png 400w,\\n/static/2e8d01bf9488190087be00c904b43124/7842b/mvc.png 800w,\\n/static/2e8d01bf9488190087be00c904b43124/5ece7/mvc.png 1200w,\\n/static/2e8d01bf9488190087be00c904b43124/0d4f8/mvc.png 1600w,\\n/static/2e8d01bf9488190087be00c904b43124/9fabd/mvc.png 2000w\\\"\\n            sizes=\\\"(max-width: 800px) 100vw, 800px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/2e8d01bf9488190087be00c904b43124/7842b/mvc.png\\\"\\n            alt=\\\"mvc pattern\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"리팩토링한 구조에서는 Panel이 Controller + View 역할을 동시에 수행하고 있습니다.\"), \"\\n\", React.createElement(_components.p, null, \"즉, 사용자의 버튼 클릭 → Service 호출 → 결과 반영 흐름이 MVC 구조로 동작하고 있습니다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Model\"), \": \", React.createElement(_components.code, null, \"Domain\"), \" 엔티티와 \", React.createElement(_components.code, null, \"Repository\"), \"가 데이터를 관리\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"View\"), \": \", React.createElement(_components.code, null, \"Panel\"), \" (Swing UI 컴포넌트)이 화면을 표시\"), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Controller\"), \": \", React.createElement(_components.code, null, \"Panel\"), \"의 이벤트 핸들러가 사용자 입력을 처리하고 \", React.createElement(_components.code, null, \"Service\"), \"를 호출\"), \"\\n\"), \"\\n\", React.createElement(_components.h3, null, \"계층형 아키텍쳐\"), \"\\n\", React.createElement(_components.p, null, \"계층형 아키텍처는 시스템을 여러 레이어로 나누어,\\n각 레이어가 명확한 역할과 책임을 가지도록 하는 설계 방식입니다.\"), \"\\n\", React.createElement(_components.p, null, \"각 계층은 바로 아래 계층에만 의존하며, 위로는 의존하지 않습니다.\"), \"\\n\", React.createElement(_components.span, {\n    dangerouslySetInnerHTML: {\n      __html: \"<span\\n      class=\\\"gatsby-resp-image-wrapper\\\"\\n      style=\\\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 756px; \\\"\\n    >\\n      <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/ee713e701810b4b969c0de2f108de0b0/ee7ce/layered.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n    <span\\n    class=\\\"gatsby-resp-image-background-image\\\"\\n    style=\\\"padding-bottom: 88.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAABYlAAAWJQFJUiTwAAADxklEQVR42nWP+VNaVxiG7//YH9vplrgU4woqCC64oKLGvUDAsAYBteqAiokm1jVSIRFjokBioEnTTGY6nbRNJWKfnntpTdukPzzznu897/vdc6Xzkz0K9yIUDpYpJKOcyxxEOdtf4q2gkFxS/DOhZ8ni/O4cLSJ374U5P4kjna3ZOPWUkw+oyU/W8uZGDb/6qikE1YI6ToUnkw/U8VYgZwohNWfB4llBdE/d5Zx9a0fKb3t4E2rg99lWCvNtZD0NLPWUEe4qIdpbRsRUymzHZUXXByvYHa0Ud6XcMpfzKtBEfq5VdFuUHfmdG0isO+GG+MqUnrchHX8EdZz6G/nZrea1R8Mv3npe/8VvviI/OmrFrOE8qAXRyU/rwV8LG26kl4cRXsYsRCf03Pa08Co+QW7LwvNtK8/+hxc7Np7vWPleRmQHtR9zuNjDT6llJP+Jh46UgS/tn1IeuIw500nXg1Z6U+30yBzLaqT7WHBkpCdtVGbTYauS6zxo5TPrJzTFNYRyfqSpJ246Ehr6xYV530D/YQttt9VUO0vQBFWoJ79CI9DOVqKbr6I+pKJh+gqmXS19yWal07OnV3bMnHiRAo+dtMRr6U3q6d7XCZow7tRTP68SVNAQrqB+ToUuWoX+VjW1gTIaI1fo3GvEJPKm+zquipe3JmoJicdJC9lZLKkBeu8YMa+340iPYns0iCMzUiQt6yj29DD21PCFJ2dsj4YU6nzlDCQ6WH4WFr+8l8W89pRL7eOo+j0Mb+boX83Qt5JW9B1p4aUU5HMxc4z55kM+qunEMPMds/s/IDk2s1SFHlLl3qbau0vDN49QWVeodG5SeX2dK441oRtUubao8caUXJWrSP3MoUB0nRtUBh9wfSuH5NzOURNM0hzJYAin0U4fUNI3SWl/gMu9Pi6ZnJQILenzoxoPUzoQ5PP2a5RdnaJp7gjd7ENaFh5TEzrAvSMWuu4+RzOXQTedpFFgWDiheSknyBY1mns3Lz5VMCw8EZpFH84o1Pl2qZs5wht7gbS2e5+p5U1aeoboHLQyt3qXyfAKgYXbBP9BQOHOha/o4prifaGqweafZytxiLQcXWLCYcdobKPb1IXH7VLm6xMOHPZrTMiI+W/vQ8hdy9fj3Lp5E2llZQW73Y7fP4nP58PlcuF2u/F6PLR3dKDVatE2aouq02E29+H1ei9yMh4xyztWV1eRIpEIw8PDWK1WLBbLvxgbG2NkZERBzgwNDTE6OvpezmazKXeLi4tI6XSaWCxGIpEgHo+/h+z/lw9l5B2ZTIY/AWv/MuBeqEsgAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n  ></span>\\n  <picture>\\n          <source\\n              srcset=\\\"/static/ee713e701810b4b969c0de2f108de0b0/f1512/layered.webp 200w,\\n/static/ee713e701810b4b969c0de2f108de0b0/f59aa/layered.webp 400w,\\n/static/ee713e701810b4b969c0de2f108de0b0/2ffd9/layered.webp 756w\\\"\\n              sizes=\\\"(max-width: 756px) 100vw, 756px\\\"\\n              type=\\\"image/webp\\\"\\n            />\\n          <source\\n            srcset=\\\"/static/ee713e701810b4b969c0de2f108de0b0/f8f3a/layered.png 200w,\\n/static/ee713e701810b4b969c0de2f108de0b0/6a8a8/layered.png 400w,\\n/static/ee713e701810b4b969c0de2f108de0b0/ee7ce/layered.png 756w\\\"\\n            sizes=\\\"(max-width: 756px) 100vw, 756px\\\"\\n            type=\\\"image/png\\\"\\n          />\\n          <img\\n            class=\\\"gatsby-resp-image-image\\\"\\n            src=\\\"/static/ee713e701810b4b969c0de2f108de0b0/ee7ce/layered.png\\\"\\n            alt=\\\"계층형 아키텍쳐\\\"\\n            title=\\\"\\\"\\n            loading=\\\"lazy\\\"\\n            decoding=\\\"async\\\"\\n            style=\\\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\\\"\\n          />\\n        </picture>\\n  </a>\\n    </span>\"\n    }\n  }), \"\\n\", React.createElement(_components.p, null, \"현재 리팩토링한 구조에서는 Panel이 Service를 사용하고, Service는 Repository를, Repository는 Entity를 사용하고 있습니다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Presentation Layer\"), \" (UI) - 사용자 입력 처리 및 화면 표시: \", React.createElement(_components.code, null, \"Panel\")), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Business Layer\"), \" (비즈니스 로직) - 비즈니스 로직 처리: \", React.createElement(_components.code, null, \"Service\")), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Persistence Layer\"), \" (데이터 접근) - 데이터베이스 접근: \", React.createElement(_components.code, null, \"Repository\")), \"\\n\", React.createElement(_components.li, null, React.createElement(_components.strong, null, \"Domain Layer\"), \" (도메인 모델) - 핵심 데이터 구조 및 규칙 정의: \", React.createElement(_components.code, null, \"Entity\")), \"\\n\"), \"\\n\", React.createElement(_components.h2, null, \"정리\"), \"\\n\", React.createElement(_components.p, null, \"이번 리팩토링을 통해 다음을 실현했습니다.\"), \"\\n\", React.createElement(_components.ul, null, \"\\n\", React.createElement(_components.li, null, \"유지보수성 향상: 계층별 책임이 명확해져 수정 범위를 최소화할 수 있었습니다.\"), \"\\n\", React.createElement(_components.li, null, \"확장성 확보: 새로운 기능 추가 시 기존 코드 변경을 최소화했습니다.\"), \"\\n\", React.createElement(_components.li, null, \"코드 품질 향상: SOLID 원칙 적용으로 객체지향적인 구조를 구현했습니다.\"), \"\\n\", React.createElement(_components.li, null, \"생산성 향상: JPA 덕분에 반복적인 JDBC 코드를 제거하고 개발 속도를 높일 수 있었습니다.\"), \"\\n\"), \"\\n\", React.createElement(_components.p, null, \"처음엔 다소 복잡해 보였지만, 계층을 분리하고 책임을 나누니 오히려 코드가 단순해지고 이해하기 쉬워졌습니다.\\n특히 도메인 엔티티가 스스로의 책임을 가지도록 설계하면서, 의도가 명확하고 직관적인 코드를 작성할 수 있게 되었습니다.\"));\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? React.createElement(MDXLayout, props, React.createElement(_createMdxContent, props)) : _createMdxContent(props);\n}\nexport default MDXContent;\n","import GATSBY_COMPILED_MDX from \"/home/runner/work/aaxx98.github.io/aaxx98.github.io/content/til/20251104/til-20251104.mdx\";\nimport * as React from 'react';\nimport Layout from '../../components/layout';\nimport Comment from '../../components/post/comment';\nimport PostContent from '../../components/post/post-content';\nimport PostTags from '../../components/post/post-tags';\nimport Seo from '../../components/seo';\nimport CollapsibleTOC from '../../components/post/toc';\nfunction BlogPost(_ref) {\n  let {data, children} = _ref;\n  return React.createElement(Layout, null, React.createElement(PostContent, {\n    data: data\n  }), React.createElement(\"section\", {\n    className: \"post-body-container\"\n  }, React.createElement(CollapsibleTOC, null), React.createElement(\"div\", {\n    className: \"post-body\"\n  }, children), React.createElement(\"div\", {\n    className: \"post-tags-area\"\n  }, React.createElement(PostTags, {\n    tags: data.mdx.frontmatter.tags,\n    isLinked: true\n  })), React.createElement(\"div\", {\n    className: \"post-top-wrap\"\n  }, React.createElement(\"button\", {\n    onClick: () => window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    }),\n    className: \"post-top-button\",\n    \"aria-label\": \"\\uB9E8 \\uC704\\uB85C \\uC774\\uB3D9\"\n  }, \"\\u2191 TOP\"))), React.createElement(\"section\", {\n    className: \"comment-section\"\n  }, React.createElement(Comment, null)));\n}\nconst query = \"3479210645\";\nexport function Head(_ref2) {\n  let {data} = _ref2;\n  return React.createElement(Seo, {\n    title: data.mdx.frontmatter.title\n  });\n}\nBlogPost\nexport default function GatsbyMDXWrapper(props) {\n  return React.createElement(BlogPost, props, React.createElement(GATSBY_COMPILED_MDX, props));\n}\n","import React, { useState, useEffect } from 'react';\n\ninterface TocItem {\n  id: string;\n  text: string;\n  level: number;\n  element: HTMLElement;\n}\n\nconst CollapsibleTOC = () => {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const [tocItems, setTocItems] = useState<TocItem[]>([]);\n\n  useEffect(() => {\n    const headings = document.querySelectorAll<HTMLHeadingElement>('h1, h2, h3, h4, h5, h6');\n    const items: TocItem[] = Array.from(headings).map((heading, index) => {\n      if (!heading.id) {\n        heading.id = `heading-${index}`;\n      }\n\n      return {\n        id: heading.id,\n        text: heading.textContent || '',\n        level: parseInt(heading.tagName.charAt(1), 10),\n        element: heading,\n      };\n    });\n\n    setTocItems(items);\n  }, []);\n\n  const scrollToHeading = (id: string) => {\n    const element = document.getElementById(id);\n    if (element) {\n      const headerOffset = 80;\n      const elementPosition = element.offsetTop;\n      const offsetPosition = elementPosition - headerOffset;\n\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth',\n      });\n    }\n  };\n\n  if (tocItems.length === 0) {\n    return null;\n  }\n\n  return (\n    <div className=\"toc-container\">\n      <button\n        className=\"toc-toggle\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-expanded={isOpen}\n        aria-controls=\"toc-content\"\n      >\n        <span className=\"toc-title\">목차</span>\n        <span className={`toc-arrow ${isOpen ? 'open' : ''}`}>▼</span>\n      </button>\n\n      <div id=\"toc-content\" className={`toc-content ${isOpen ? 'open' : ''}`}>\n        <nav className=\"toc-nav\">\n          <ul className=\"toc-list\">\n            {tocItems.map((item) => (\n              <li key={item.id} className={`toc-item level-${item.level} `}>\n                <button\n                  className=\"toc-link\"\n                  onClick={() => scrollToHeading(item.id)}\n                  title={item.text}\n                >\n                  {item.text}\n                </button>\n              </li>\n            ))}\n          </ul>\n        </nav>\n      </div>\n    </div>\n  );\n};\n\nexport default CollapsibleTOC;\n","const tagNames: Record<string, string> = {\n  gatsby: 'Gatsby',\n  react: 'React',\n  utterances: 'Utterances',\n  github: 'Github',\n  blog: '블로그',\n  seo: 'SEO',\n  'tailwind-css': 'Tailwind CSS',\n  bootcamp: '부트캠프후기',\n  'multi-campus': '멀티캠퍼스IT부트캠프',\n  'ureca-backend': 'LG U+ 유레카 3기 백엔드',\n  java: 'JAVA',\n  study: '스터디',\n  database: '데이터베이스',\n  sql: 'SQL',\n  conccurency: '동시성',\n  redis: 'Redis',\n};\nexport default tagNames;\n","import * as React from 'react';\n\nimport { faAngleRight } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Link } from 'gatsby';\n\ntype BreadcrumbProps = {\n  info: { name: string; url: string }[];\n};\n\nexport default function Breadcrumb({ info }: BreadcrumbProps) {\n  if (!info || info.length === 0) return null;\n\n  return (\n    <nav aria-label=\"breadcrumb\" className=\"breadcrumb\">\n      <ol className=\"breadcrumb-list\">\n        {info.map((item, idx) => {\n          const isLast = idx === info.length - 1;\n          return (\n            <li key={item.url || `${item.name}-${idx}`} className=\"breadcrumb-item\">\n              {isLast ? (\n                <span aria-current=\"page\" className=\"breadcrumb-current\">\n                  {item.name}\n                </span>\n              ) : (\n                <Link to={item.url} className=\"breadcrumb-link\">\n                  {item.name}\n                </Link>\n              )}\n              {!isLast && (\n                <span className=\"breadcrumb-sep\">\n                  <FontAwesomeIcon icon={faAngleRight} className=\"breadcrumb-sep-icon\" />\n                </span>\n              )}\n            </li>\n          );\n        })}\n      </ol>\n    </nav>\n  );\n}\n","import React, { useEffect, useRef, useState } from 'react';\n\nfunction Comment() {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const [status, setStatus] = useState<'pending' | 'success' | 'failed'>('pending');\n\n  useEffect(() => {\n    const el = containerRef.current;\n    if (!el) return;\n\n    el.innerHTML = '';\n\n    const script = document.createElement('script');\n    script.src = 'https://utteranc.es/client.js';\n    script.async = true;\n    script.crossOrigin = 'anonymous';\n    script.setAttribute('repo', 'aaxx98/aaxx98.github.io');\n    script.setAttribute('issue-term', 'pathname');\n    script.setAttribute('theme', 'github-dark');\n\n    script.onload = () => setStatus('success');\n    script.onerror = () => setStatus('failed');\n\n    el.appendChild(script);\n\n    return () => {\n      el.innerHTML = '';\n    };\n  }, []);\n\n  return (\n    <section className=\"comment-container\" aria-label=\"댓글\">\n      {status === 'failed' && (\n        <div className=\"comment-status error\">\n          댓글을 불러오는 중 오류가 발생했습니다. 새로고침 후 다시 시도해주세요.\n        </div>\n      )}\n      {status === 'pending' && <div className=\"comment-status pending\">댓글을 불러오는 중...</div>}\n      <div ref={containerRef} className=\"utterances-container\" />\n    </section>\n  );\n}\n\nexport default Comment;\n","import * as React from 'react';\n\nimport { Link } from 'gatsby';\n\nimport tagNames from '../../code/tagName';\n\ntype PostTagProps = {\n  tags: string[];\n  isLinked?: boolean;\n};\n\nfunction PostTags({ tags, isLinked = false }: PostTagProps) {\n  return (\n    <div className=\"post-tags\">\n      {tags.map((tag: string) =>\n        isLinked ? (\n          <Link key={tag} to={`/tags/${tag}`} className=\"post-tag\">\n            #{tagNames[tag] || tag}\n          </Link>\n        ) : (\n          <div key={tag} className=\"post-tag\">\n            #{tagNames[tag] || tag}\n          </div>\n        ),\n      )}\n    </div>\n  );\n}\n\nexport default PostTags;\n"],"names":["_ref","data","React","className","mdx","frontmatter","title","date","Breadcrumb","info","name","url","category","slug","_createMdxContent","props","_components","Object","assign","h1","blockquote","p","strong","h2","a","h3","span","code","hr","ol","li","ul","_provideComponents","components","href","dangerouslySetInnerHTML","__html","start","wrapper","MDXLayout","BlogPost","children","Layout","PostContent","CollapsibleTOC","PostTags","tags","isLinked","onClick","window","scrollTo","top","behavior","Comment","Head","_ref2","Seo","GatsbyMDXWrapper","GATSBY_COMPILED_MDX","isOpen","setIsOpen","useState","tocItems","setTocItems","useEffect","headings","document","querySelectorAll","items","Array","from","map","heading","index","id","text","textContent","level","parseInt","tagName","charAt","element","length","item","key","getElementById","headerOffset","offsetPosition","offsetTop","scrollToHeading","gatsby","react","utterances","github","blog","seo","bootcamp","java","study","database","sql","conccurency","redis","idx","isLast","Link","to","FontAwesomeIcon","icon","faAngleRight","containerRef","useRef","status","setStatus","el","current","innerHTML","script","createElement","src","async","crossOrigin","setAttribute","onload","onerror","appendChild","ref","tag","tagNames"],"sourceRoot":""}