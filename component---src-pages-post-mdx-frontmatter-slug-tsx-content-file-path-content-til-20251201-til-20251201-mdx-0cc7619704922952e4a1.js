"use strict";(self.webpackChunkaaxx98_blog=self.webpackChunkaaxx98_blog||[]).push([[429],{5606:function(n,a,s){var t=s(6540),e=s(7962);a.A=function(n){let{data:a}=n;return t.createElement("div",{className:"post-content-container"},t.createElement("h1",{className:"post-content-title"},a.mdx.frontmatter.title),t.createElement("p",{className:"post-content-meta"},"작성일: ",a.mdx.frontmatter.date),t.createElement("div",{className:"breadcrumb-wrap"},t.createElement(e.A,{info:[{name:"HOME",url:"/"},{name:`${a.mdx.frontmatter.category}`,url:`/categories/${a.mdx.frontmatter.category}`},{name:a.mdx.frontmatter.title,url:`/${a.mdx.frontmatter.slug}`}]})))}},6952:function(n,a,s){var t=s(6540);a.A=()=>{const{0:n,1:a}=(0,t.useState)(!1),{0:s,1:e}=(0,t.useState)([]);(0,t.useEffect)((()=>{const n=document.querySelectorAll("h1, h2, h3, h4, h5, h6"),a=Array.from(n).map(((n,a)=>(n.id||(n.id=`heading-${a}`),{id:n.id,text:n.textContent||"",level:parseInt(n.tagName.charAt(1),10),element:n})));e(a)}),[]);return 0===s.length?null:t.createElement("div",{className:"toc-container"},t.createElement("button",{className:"toc-toggle",onClick:()=>a(!n),"aria-expanded":n,"aria-controls":"toc-content"},t.createElement("span",{className:"toc-title"},"목차"),t.createElement("span",{className:"toc-arrow "+(n?"open":"")},"▼")),t.createElement("div",{id:"toc-content",className:"toc-content "+(n?"open":"")},t.createElement("nav",{className:"toc-nav"},t.createElement("ul",{className:"toc-list"},s.map((n=>t.createElement("li",{key:n.id,className:`toc-item level-${n.level} `},t.createElement("button",{className:"toc-link",onClick:()=>(n=>{const a=document.getElementById(n);if(a){const n=80,s=a.offsetTop-n;window.scrollTo({top:s,behavior:"smooth"})}})(n.id),title:n.text},n.text))))))))}},7717:function(n,a){a.A={gatsby:"Gatsby",react:"React",utterances:"Utterances",github:"Github",blog:"블로그",seo:"SEO","tailwind-css":"Tailwind CSS",bootcamp:"부트캠프후기","multi-campus":"멀티캠퍼스IT부트캠프","ureca-backend":"LG U+ 유레카 3기 백엔드",java:"JAVA",study:"스터디",database:"데이터베이스",sql:"SQL",conccurency:"동시성",redis:"Redis"}},7962:function(n,a,s){s.d(a,{A:function(){return o}});var t=s(6540),e=s(6188),p=s(2337),c=s(4794);function o(n){let{info:a}=n;return a&&0!==a.length?t.createElement("nav",{"aria-label":"breadcrumb",className:"breadcrumb"},t.createElement("ol",{className:"breadcrumb-list"},a.map(((n,s)=>{const o=s===a.length-1;return t.createElement("li",{key:n.url||`${n.name}-${s}`,className:"breadcrumb-item"},o?t.createElement("span",{"aria-current":"page",className:"breadcrumb-current"},n.name):t.createElement(c.Link,{to:n.url,className:"breadcrumb-link"},n.name),!o&&t.createElement("span",{className:"breadcrumb-sep"},t.createElement(p.g,{icon:e.vmR,className:"breadcrumb-sep-icon"})))})))):null}},8009:function(n,a,s){var t=s(6540);a.A=function(){const n=(0,t.useRef)(null),{0:a,1:s}=(0,t.useState)("pending");return(0,t.useEffect)((()=>{const a=n.current;if(!a)return;a.innerHTML="";const t=document.createElement("script");return t.src="https://utteranc.es/client.js",t.async=!0,t.crossOrigin="anonymous",t.setAttribute("repo","aaxx98/aaxx98.github.io"),t.setAttribute("issue-term","pathname"),t.setAttribute("theme","github-dark"),t.onload=()=>s("success"),t.onerror=()=>s("failed"),a.appendChild(t),()=>{a.innerHTML=""}}),[]),t.createElement("section",{className:"comment-container","aria-label":"댓글"},"failed"===a&&t.createElement("div",{className:"comment-status error"},"댓글을 불러오는 중 오류가 발생했습니다. 새로고침 후 다시 시도해주세요."),"pending"===a&&t.createElement("div",{className:"comment-status pending"},"댓글을 불러오는 중..."),t.createElement("div",{ref:n,className:"utterances-container"}))}},8079:function(n,a,s){s.r(a),s.d(a,{Head:function(){return g},default:function(){return m}});var t=s(8453),e=s(6540);function p(n){const a=Object.assign({span:"span",blockquote:"blockquote",p:"p",strong:"strong",h1:"h1",code:"code",br:"br",a:"a",h2:"h2",hr:"hr",ul:"ul",li:"li",ol:"ol"},(0,t.RP)(),n.components);return e.createElement(e.Fragment,null,e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 301px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/b89f0571723aa7232ddfc84d4b708c8b/0044d/postman.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 123.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAACJUlEQVR42qVV2ZaqMBD0///PeXBBZA9hCYssgtak+g6e8WUU70OTIFhUd1V3NoXnQBclfM/D6XSC7/s4Ho9wXRdFUayKsiyxyd09lM4EbLvdYrfb4XA4SHwEOPY9Ll2HnuvlAq01kiRBatdxGDEMw6rYjOOItm0l6rqGUhphGMkX53kGn6+JDVG5uV6vGPoLqvSAKo/g+QFUoj4DZLqDpGfTrjK0tUEcJzDG4Ha7fQo4YJ4m+EUCLw3guWdEUSRq8/lHKVOEuq3RdC1MadA0jdRyeectQF74R4rCFKMwxPl8Fttoa6f/Srmz9iGoqQyqqpJ7vrSK4W8PzdMMPw/h6wDO0YFzcqSGoWU92fquAuRN33eSPhmzBN2P4VeJwgsNTSCmGwQB3JOLr68vaSWaWwRbm/JSq7IuYRojH1k6iPFxDaMqRphZpa0PHceR+imlRG3W8VUtnxhe2g6lbtCYVvxHlnXdPPZ5nlt/ln+q/mObwdbJ1tIChW6ONDHw7Hz0PF88ydGWpin2+73s/xLpKeVpntCVGSqtoLNMGGV2JRgFu9/vLyfQ5jf9q61PY+tV2XkY2eEQWsXjOJahy76WifTC5I/W43DlysGqLCMOWYLxNzJ729gihgVbzExFCcY1tqz4jGDvtt8Tw38TW0l6PKy4Xw6rd80tgGwxMiBDikCAZSUorbMKcGHICUN2bD+mTUUZ79bvAbiMLzJcjkTaZGnHNePrG9nyh3jRP6qxAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/b89f0571723aa7232ddfc84d4b708c8b/f1512/postman.webp 200w,\n/static/b89f0571723aa7232ddfc84d4b708c8b/e541f/postman.webp 301w"\n              sizes="(max-width: 301px) 100vw, 301px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/b89f0571723aa7232ddfc84d4b708c8b/f8f3a/postman.png 200w,\n/static/b89f0571723aa7232ddfc84d4b708c8b/0044d/postman.png 301w"\n            sizes="(max-width: 301px) 100vw, 301px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/b89f0571723aa7232ddfc84d4b708c8b/0044d/postman.png"\n            alt="postman"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",e.createElement(a.blockquote,null,"\n",e.createElement(a.p,null,"기존 API 문서는 Posman을 통해 생성하고 json으로 Export하여 저장하고있었습니다."),"\n",e.createElement(a.p,null,"API 문서화를 위해 ",e.createElement(a.strong,null,"Swagger(springdoc-openapi)")," 를 도입하고,"),"\n",e.createElement(a.p,null,"요청 값을 안정적으로 검증하기 위한 ",e.createElement(a.strong,null,"Request Validation(Bean Validation)")," 을 적용했습니다."),"\n",e.createElement(a.p,null,"또한 기존에 Request, Response에서 혼재하여 사용하던 DTO를 각 용도에 맞게 분리하고,"),"\n",e.createElement(a.p,null,"유효성 검증을 통해 잘못된 요청을 사전에 차단하고,"),"\n",e.createElement(a.p,null,"Swagger UI 에서 검증 규칙(minLength, required 등)을 자동으로 확인할 수 있도록 구성했습니다."),"\n"),"\n",e.createElement(a.h1,null,"1. Swagger(OpenAPI) 설정"),"\n",e.createElement(a.p,null,"Spring Boot 3에서는 ",e.createElement(a.code,null,"springdoc-openapi"),"가 사실상 표준입니다.",e.createElement(a.br),"\n","Swagger UI를 통해 API 요청 형식을 문서화하고 실시간 테스트가 가능하도록 구성했습니다."),"\n",e.createElement(a.p,null,e.createElement(a.a,{href:"springdoc-openapi"},"springdoc-openapi 공식 문서")),"\n",e.createElement(a.h2,null,"1.1 의존성 추가"),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="xml"><pre class="language-xml"><code class="language-xml"><span class="token comment">&lt;!-- Swagger --\x3e</span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springdoc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springdoc-openapi-starter-webmvc-ui<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.8.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>\n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"추가 후 서버 실행 시 다음 주소에서 UI로 문서화된 API 목록을 확인 할 수 있습니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="bash"><pre class="language-bash"><code class="language-bash">http://localhost:8080/swagger-ui.html</code></pre></div>'}}),"\n",e.createElement(a.h2,null,"1.2 jwt인증 필터에서 swagger 경로 제외"),"\n",e.createElement(a.p,null,"Swagger UI 페이지가 ",e.createElement(a.code,null,"/swagger-ui.html"),"에서 보여지고,"),"\n",e.createElement(a.p,null,"OpenAPI 정보(JSON 형식)는 ",e.createElement(a.code,null,"/v3/api-docs"),"에서 보여지므로 두 url을 인증 필터에서 제외해야합니다."),"\n",e.createElement(a.p,null,e.createElement(a.code,null,"SecurityConfig"),"의 ",e.createElement(a.code,null,"SecurityFilterChain"),"에서 ",e.createElement(a.code,null,"permitAll"),"의 경로로 위 경로를 추가해줍니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token punctuation">{</span>\n\n  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">JwtTokenProvider</span> tokenProvider<span class="token punctuation">;</span>\n  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>\n  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">CustomAuthenticationEntryPoint</span> entryPoint<span class="token punctuation">;</span>\n\n  <span class="token keyword">public</span> <span class="token class-name">SecurityConfig</span><span class="token punctuation">(</span><span class="token class-name">JwtTokenProvider</span> tokenProvider<span class="token punctuation">,</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">,</span>\n      <span class="token class-name">CustomAuthenticationEntryPoint</span> entryPoint<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>tokenProvider <span class="token operator">=</span> tokenProvider<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>userDao <span class="token operator">=</span> userDao<span class="token punctuation">;</span>\n    <span class="token keyword">this</span><span class="token punctuation">.</span>entryPoint <span class="token operator">=</span> entryPoint<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token annotation punctuation">@Bean</span>\n  <span class="token keyword">public</span> <span class="token class-name">PasswordEncoder</span> <span class="token function">passwordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BCryptPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n\n  <span class="token annotation punctuation">@Bean</span>\n  <span class="token keyword">public</span> <span class="token class-name">SecurityFilterChain</span> <span class="token function">filterChain</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>\n\n    <span class="token class-name">JwtAuthenticationFilter</span> jwtFilter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JwtAuthenticationFilter</span><span class="token punctuation">(</span>tokenProvider<span class="token punctuation">,</span> userDao<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    http\n        <span class="token punctuation">.</span><span class="token function">csrf</span><span class="token punctuation">(</span><span class="token class-name">AbstractHttpConfigurer</span><span class="token operator">::</span><span class="token function">disable</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">exceptionHandling</span><span class="token punctuation">(</span>e <span class="token operator">-></span> e<span class="token punctuation">.</span><span class="token function">authenticationEntryPoint</span><span class="token punctuation">(</span>entryPoint<span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">sessionManagement</span><span class="token punctuation">(</span>s <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">sessionCreationPolicy</span><span class="token punctuation">(</span><span class="token class-name">SessionCreationPolicy</span><span class="token punctuation">.</span><span class="token constant">STATELESS</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">authorizeHttpRequests</span><span class="token punctuation">(</span>auth <span class="token operator">-></span> auth\n            <span class="token punctuation">.</span><span class="token function">requestMatchers</span><span class="token punctuation">(</span>\n                <span class="token string">"/api/auth/login"</span><span class="token punctuation">,</span>\n                <span class="token string">"/api/user/register"</span><span class="token punctuation">,</span>\n                <span class="token string">"/swagger-ui/**"</span><span class="token punctuation">,</span>\n                <span class="token string">"/v3/api-docs/**"</span>\n            <span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">anyRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">authenticated</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        <span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">addFilterBefore</span><span class="token punctuation">(</span>jwtFilter<span class="token punctuation">,</span> <span class="token class-name">UsernamePasswordAuthenticationFilter</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> http<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",e.createElement(a.h2,null,"1.3 OpenAPI 기본 설정"),"\n",e.createElement(a.p,null,"JWT 기반 인증을 적용한 프로젝트이기 때문에 Swagger에서도 Authorization 헤더를 사용할 수 있도록 설정했습니다."),"\n",e.createElement(a.p,null,"아래왁 같이 ",e.createElement(a.code,null,"SwaggerConfig"),'를 작성하면 Swagger UI에서 "Authorize" 버튼을 통해 Bearer Token을 입력할 수 있습니다.'),"\n",e.createElement(a.p,null,e.createElement(a.code,null,"Info"),"로 title, description, api 버전 등을 설정하여 보여줄 수 있습니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SwaggerConfig</span> <span class="token punctuation">{</span>\n\n  <span class="token annotation punctuation">@Bean</span>\n  <span class="token keyword">public</span> <span class="token class-name">OpenAPI</span> <span class="token function">openAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">OpenAPI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">components</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Components</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">addSecuritySchemes</span><span class="token punctuation">(</span><span class="token string">"bearerAuth"</span><span class="token punctuation">,</span>\n                <span class="token keyword">new</span> <span class="token class-name">SecurityScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n                    <span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token class-name">SecurityScheme<span class="token punctuation">.</span>Type</span><span class="token punctuation">.</span><span class="token constant">HTTP</span><span class="token punctuation">)</span>\n                    <span class="token punctuation">.</span><span class="token function">scheme</span><span class="token punctuation">(</span><span class="token string">"bearer"</span><span class="token punctuation">)</span>\n                    <span class="token punctuation">.</span><span class="token function">bearerFormat</span><span class="token punctuation">(</span><span class="token string">"JWT"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">addSecurityItem</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SecurityRequirement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addList</span><span class="token punctuation">(</span><span class="token string">"bearerAuth"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Info</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">title</span><span class="token punctuation">(</span><span class="token string">"Cafe Web API"</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">description</span><span class="token punctuation">(</span><span class="token string">"Spring Boot로 구현한 Cafe 관리 서비스 api입니다."</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token string">"1.0.0"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",e.createElement(a.hr),"\n",e.createElement(a.p,null,"위 설정을 마치고 http://localhost:8080/swagger-ui/index.html로 접속하면 아래와 같이 Swagger UI가 보여집니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/b7cac4197779a55d314e5d7b1b7c9b67/e022e/swagger.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAABoUlEQVR42pXRv2/TQBTAcf8jdKU7IxUwwEwZ2Pgj+AsQG38CAwNCbEWoaqGioI7MDIiKJMRJE58dnx3HvxL/yNn+cjZiK8I56aN3kt89v3dnPDg84M7tu+zv32Tvxh6Hjx7y7viI9ydHnH0+5eP5yT99+HTMl4tznr18ypMX97n3+BaGaZqYkyljHYeDMaPJDxzPJAhCLehF+pKFZ+MsbF3wymY2F1jCQQgfezkgzEyooaoq6qr+r6ZuNKABI4wSkiQlTddaQp4VVKqmLAut3JlRKdV10lLqT6zrdq96a9outfasYVlCz+7iurKLvr/sOm4a3X+PVes8v0w6icox4jjtCsTx39FTNptM/63upZ1qvc072bbAEPMhnnT1g9is9R1WqmTb3l+RXSO/dq90fpFtKPMMQ108JzS/IadD/OlPEttkGwjKwOpvJUidX+ShxIhevSW4HLAYT5GjCdFMF5M+hev1p/MTfS5fBhivv+dcipDR3OXKi/DSEpkWO/HWBbNlTJDqkd9YXxnIGRN7jghcVrn+kEU7WWUxjh433MT8ButbfZ0Mv3FVAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/b7cac4197779a55d314e5d7b1b7c9b67/f1512/swagger.webp 200w,\n/static/b7cac4197779a55d314e5d7b1b7c9b67/f59aa/swagger.webp 400w,\n/static/b7cac4197779a55d314e5d7b1b7c9b67/47a22/swagger.webp 800w,\n/static/b7cac4197779a55d314e5d7b1b7c9b67/3311f/swagger.webp 1135w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/b7cac4197779a55d314e5d7b1b7c9b67/f8f3a/swagger.png 200w,\n/static/b7cac4197779a55d314e5d7b1b7c9b67/6a8a8/swagger.png 400w,\n/static/b7cac4197779a55d314e5d7b1b7c9b67/7842b/swagger.png 800w,\n/static/b7cac4197779a55d314e5d7b1b7c9b67/e022e/swagger.png 1135w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/b7cac4197779a55d314e5d7b1b7c9b67/7842b/swagger.png"\n            alt="swagger UI 화면"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 726px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/1e72c61d7cc7c041c7a97a8674c0e2dc/5afa3/api.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 37%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABX0lEQVR42k2R2ZKjMAxF+f+v66mpStJpwmIImIBZzU5yRnFXz8zDKXnTvZLsXW8FaVpSVhZjJkw1Ospy5BZXfJw1ftwQJ4ZU98Sp4S5RpTWZHkiyFnVvHIXke1X2wPdjEqWZxo11fjomu+N/fZ8v88Gxg+0XyqIRsxadGwptxLxjXZ4cGxJfeDp8cDp9EYWpJO7u8s1bPE0yUpWJ+AIvqPuWUCXMsn+Kwb6+hZ6yfvE6cHh5oDmfffK8EteKQaoY7SaCO1qqL/JSjDYnaO1EEMZUj9qZ2H5iHlcn/oNXKcXlcuPzfMW/Bu5x1wxONI5zoigjSQppbcAOG2070TRvRmpj6dpZzI+/eEmo+X25E6iah1lp+hdGKOuNMNLE6kEUF9TNQtut5LqlkzjYQ3jSDztd/w8viAy/ThnX0BDdB3QlrZqDstnJUk1jeqn2e4Zda6WLkChQbhT7+zOkzf/5A1MTEsLmZQNjAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/1e72c61d7cc7c041c7a97a8674c0e2dc/f1512/api.webp 200w,\n/static/1e72c61d7cc7c041c7a97a8674c0e2dc/f59aa/api.webp 400w,\n/static/1e72c61d7cc7c041c7a97a8674c0e2dc/f9852/api.webp 726w"\n              sizes="(max-width: 726px) 100vw, 726px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/1e72c61d7cc7c041c7a97a8674c0e2dc/f8f3a/api.png 200w,\n/static/1e72c61d7cc7c041c7a97a8674c0e2dc/6a8a8/api.png 400w,\n/static/1e72c61d7cc7c041c7a97a8674c0e2dc/5afa3/api.png 726w"\n            sizes="(max-width: 726px) 100vw, 726px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/1e72c61d7cc7c041c7a97a8674c0e2dc/5afa3/api.png"\n            alt="v3 api-docs"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",e.createElement(a.p,null,e.createElement(a.code,null,"swagger-ui/index.html"),"위치에서 http://localhost:8080/v3/api-docs(GET)을 이용하여 가져오고 있기 때문에"),"\n",e.createElement(a.p,null,"http://localhost:8080/v3/api-docs에서는 json 형식의 api 파일을 확인할 수 있습니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/77c3ec755b4d362e743a0d77d7864ea6/d6b38/json.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 43%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAABbUlEQVR42k1Ri5KCMAzk/3/Nc8YXr6JoEVSkjgc+AA/d60bwjpmdNEmz3SzOlyrh6RJ6/40kr7A9XnAsW5hLB1P9oOhhegx5UT4+9SHPzw2c9XqNZLvFbrdDZsG4tTmRphn2+4PENMsksn84HAQyk9k8z3E6nfB4POBEUQSlFKJIIQgChGEI3/cFy+VSImtKhXJHbzbQemPJU/vY3hJmqKoKz2eH1+v1JpzNZjI4n8/tcCBxIPI87+/suojjWNQXpoA5GZzPZyHiJ4RURwIOTiYTLBaLDwl7w5kPUzFrJEySBMYYNE2Duq4FsjIv8PXVaoVIvYeYk+B/HFS6VqUQhwq59a4sSyHruk7g0DcqdK2yQR0tYJ3D7BGLvk9lJKJ/BFemh/f7HbVV68T2L/veeyUScIhqqSKO132MpUZoreVHcO3r9Yrb7SYqubqsPJ1OhYigMuaj0UgilY3HY/GWikW5H8h58HXwkmu3bYtfMEKQG3UWy94AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/77c3ec755b4d362e743a0d77d7864ea6/f1512/json.webp 200w,\n/static/77c3ec755b4d362e743a0d77d7864ea6/f59aa/json.webp 400w,\n/static/77c3ec755b4d362e743a0d77d7864ea6/47a22/json.webp 800w,\n/static/77c3ec755b4d362e743a0d77d7864ea6/0ec5b/json.webp 1142w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/77c3ec755b4d362e743a0d77d7864ea6/f8f3a/json.png 200w,\n/static/77c3ec755b4d362e743a0d77d7864ea6/6a8a8/json.png 400w,\n/static/77c3ec755b4d362e743a0d77d7864ea6/7842b/json.png 800w,\n/static/77c3ec755b4d362e743a0d77d7864ea6/d6b38/json.png 1142w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/77c3ec755b4d362e743a0d77d7864ea6/7842b/json.png"\n            alt="json api docs"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",e.createElement(a.p,null,"이 json형식 데이터는 Postman에서도 호환되는 형식이기 때문에 import하면 확인해 볼 수 있습니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/88385f64902993683e11ce9dfcd87787/f6ac1/import.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 64.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABuUlEQVR42o2TTZLTMBCFfVEuw5ozsJ0DsKWKNSt27LJIhZDYsS3HP5IsyXr0a4+mAjUDdJXKUdz96b1Wu1rXFY/LOYeu69A0DVbvEVNCDCuCvIsxIsl+27aXxRrrmJeRtozKWotpmsCnFwATvHe6d0xWUFCQud/lsF4OCAobhkFqR/kdgeSQwrIDqaY3BkESH9X6NWCyuzJCwjRg7DsMAp6XRQ+yPuDDlwXvnkZ8/CpAQqiQ0EWTooLLstaLgqyKsgBovxyInNXq0zeP958tPn33qBaRfB9HXK41jBkUTjCXQqWQdkuU3jEygSIg5/T8LglwFBsCrC8NDocDjsej7ud5VqAqFiiLuQrwcR/TBhEq+XG37OQy+s6gvbVo2xZ36REtUeX5fNb9/wSdVKuXQjuhbn7idDqhaztVRoUFVCz+K5hXUQmLb3IpnMFyKfyP1kuvXopEReKte4sgQvbIvwN1dG6NAgr0LaCX93VdYzQdopvfAorC20Us/1CbfwOyr831qj3mOL1qmUlt38rYGIWU2Sw9LEA+6YD56XnYXwVOo0F9vcjlWFVX2sDix8h5/3Z5YPlM/wT+AqjH88L8qsw3AAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/88385f64902993683e11ce9dfcd87787/f1512/import.webp 200w,\n/static/88385f64902993683e11ce9dfcd87787/f59aa/import.webp 400w,\n/static/88385f64902993683e11ce9dfcd87787/47a22/import.webp 800w,\n/static/88385f64902993683e11ce9dfcd87787/66453/import.webp 808w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/88385f64902993683e11ce9dfcd87787/f8f3a/import.png 200w,\n/static/88385f64902993683e11ce9dfcd87787/6a8a8/import.png 400w,\n/static/88385f64902993683e11ce9dfcd87787/7842b/import.png 800w,\n/static/88385f64902993683e11ce9dfcd87787/f6ac1/import.png 808w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/88385f64902993683e11ce9dfcd87787/7842b/import.png"\n            alt="import json"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",e.createElement(a.h1,null,"2. Request 데이터 유효성 검증"),"\n",e.createElement(a.p,null,"사용자 입력값 검증은 서버 안정성과 보안에 매우 중요합니다."),"\n",e.createElement(a.p,null,"Spring은 Jakarta Bean Validation(JSR 380)을 기반으로 DTO 단위에서 유효성을 검증할 수 있습니다."),"\n",e.createElement(a.p,null,"다음과 같은 규칙을 적용했습니다:"),"\n",e.createElement(a.ul,null,"\n",e.createElement(a.li,null,"필수 필드 검사(",e.createElement(a.code,null,"@NotBlank"),", ",e.createElement(a.code,null,"@NotNull"),")"),"\n",e.createElement(a.li,null,"문자열 길이 검사(",e.createElement(a.code,null,"@Size"),")"),"\n",e.createElement(a.li,null,"이메일 형식(",e.createElement(a.code,null,"@Email"),")"),"\n",e.createElement(a.li,null,"최소값/최대값(",e.createElement(a.code,null,"@Min"),", ",e.createElement(a.code,null,"@Max"),")"),"\n",e.createElement(a.li,null,"정규식 검사(",e.createElement(a.code,null,"@Pattern"),")"),"\n"),"\n",e.createElement(a.h2,null,"2.1 DTO에 Validation 적용"),"\n",e.createElement(a.p,null,"회원가입 요청 DTO를 ",e.createElement(a.code,null,"RegisterRequest")," 객체로 별도 선언하고, Validation 조건을 달아줄 수 있습니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RegisterRequest</span> <span class="token punctuation">{</span>\n\n  <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"이름은 필수 항목입니다."</span><span class="token punctuation">)</span>\n  <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>\n\n  <span class="token annotation punctuation">@Email</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"올바른 이메일 형식이어야 합니다."</span><span class="token punctuation">)</span>\n  <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"이메일은 필수 항목입니다."</span><span class="token punctuation">)</span>\n  <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>\n\n  <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"비밀번호는 필수 항목입니다."</span><span class="token punctuation">)</span>\n  <span class="token annotation punctuation">@Size</span><span class="token punctuation">(</span>min <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"비밀번호는 최소 8자 이상이어야 합니다."</span><span class="token punctuation">)</span>\n  <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"Swagger UI에서도 자동으로 다음과 같이 표시됩니다:"),"\n",e.createElement(a.ul,null,"\n",e.createElement(a.li,null,"required 여부"),"\n",e.createElement(a.li,null,"minLength, maxLength"),"\n",e.createElement(a.li,null,"format(email)"),"\n",e.createElement(a.li,null,"설명(description)"),"\n"),"\n",e.createElement(a.p,null,"Swagger는 Validation 애노테이션을 스캔하여 자동 문서화를 지원합니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/a8693784785d67568df425c62f92f29b/417b2/validate.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 36.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABEUlEQVR42o3R60rDMBwF8L4/voAP4lfBgasTlU2r6+pqa3pLL2na9D7B479FFKFIP/wSAiHnJNEuoi0uIwNBFuM9jcAyDtGVi2Tf0kbClxyBjKExGhwRojq1qEk1aRapP1p0nwOKTsGnIlktoXElqB2HqgtUQ/PXT8AMOozLFG7ogYsEaZkjUTm0tCqQlBJFW0OdetrcQw3tpOybf4UixVvoU7sEkcjACwHNYC6uH7e43Rt4ZjZ2jgPD8/Die7CpuUeprBSz/EoioJuN84hRS+3JtbHa6NDvbmCuzmCuz2GYm4mXhxB9QQ8v57W/BK3Z2NCKIzwcTOyODvbmGkfrCtarjoN9T5+VIFCUTslLjAd+AUwzDVImglcGAAAAAElFTkSuQmCC\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/a8693784785d67568df425c62f92f29b/f1512/validate.webp 200w,\n/static/a8693784785d67568df425c62f92f29b/f59aa/validate.webp 400w,\n/static/a8693784785d67568df425c62f92f29b/47a22/validate.webp 800w,\n/static/a8693784785d67568df425c62f92f29b/678fd/validate.webp 1112w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/a8693784785d67568df425c62f92f29b/f8f3a/validate.png 200w,\n/static/a8693784785d67568df425c62f92f29b/6a8a8/validate.png 400w,\n/static/a8693784785d67568df425c62f92f29b/7842b/validate.png 800w,\n/static/a8693784785d67568df425c62f92f29b/417b2/validate.png 1112w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/a8693784785d67568df425c62f92f29b/7842b/validate.png"\n            alt="Validation Request"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",e.createElement(a.h2,null,"2.2 Controller에서 검증 활성화"),"\n",e.createElement(a.p,null,"Controller의 Request 파라미터에 ",e.createElement(a.code,null,"@Valid")," 또는 ",e.createElement(a.code,null,"@Validated")," 를 선언하면 Spring이 DTO를 검증합니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/register"</span><span class="token punctuation">)</span>\n<span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> <span class="token function">register</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Valid</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">RegisterRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">ResponseRegisterDto</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">registerUser</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre></div>'}}),"\n",e.createElement(a.p,null,"유효성 검증 실패 시 ",e.createElement(a.code,null,"MethodArgumentNotValidException"),"이 발생합니다."),"\n",e.createElement(a.p,null,"현재 Exception 핸들러에서 별도로 처리하지 않는 것은 500 에러로 반환하고 있습니다."),"\n",e.createElement(a.p,null,"password를 8글자 미만으로 설정하고 Request를 보내면 아래와 같이 반환됩니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/6966de806a490e2770b7ccd3942848a9/33faa/error.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 43.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB5UlEQVR42p3SSWtTURTA8XwRuzQEUrAZ3svQ1Jo5MS+OFTM0JLE2DmTjwlJwYdOmQkGCSTqlTaUi+hHcFKvS1Al05cKVqKFRimlpgwsr/r15AcVFu3Dx49xzOBzO5V5NfesLX1tNtvdaNH/ssv2zxc6v7/9la28XzedvDVZqT3m0usLj2jNWn6+x/ublX29f/ZvvY+31Ou8+vBcDmw0i8Shuj5Nj/qP0eR3Y++3INlklWSXkNruskmwSFoeMpdfS6RE1m8NGd083NyfH2htukL6WIhgNEEoeR0mHCCaC4hwilBJEHh4KowwphC+KeEFR68HBAIGYH3/Eh/+8D2vIQu72OJpPYmA0HcMVcuI648J9zkVf0IHNbcVoNWJ2mLH0W5DsElKv2FRsZzQb6DEcURlMRjz+AL6AwlShgKaxs8l8dZFCqchstcL83QXmliosLFepLC2qijNl7kwXhZKqOFv+ozQ3TfX+PZYfPuDJi1pnw+ujI2SzWYYzwyRTSSLRCOET4nphRY0enxen24VrH27BZDKRn5pE83GzTuZShkR8kIGzA3i9XmRZRntYi1bbodPpDqTX6+k61MXIjVE0dfHKY/kcE7fy5CbGuXz1CrFEnEgsSjQeU7V/wUHa/SdPn6JcmeE30Vy2OYFfTWQAAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/6966de806a490e2770b7ccd3942848a9/f1512/error.webp 200w,\n/static/6966de806a490e2770b7ccd3942848a9/f59aa/error.webp 400w,\n/static/6966de806a490e2770b7ccd3942848a9/47a22/error.webp 800w,\n/static/6966de806a490e2770b7ccd3942848a9/c03de/error.webp 1109w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/6966de806a490e2770b7ccd3942848a9/f8f3a/error.png 200w,\n/static/6966de806a490e2770b7ccd3942848a9/6a8a8/error.png 400w,\n/static/6966de806a490e2770b7ccd3942848a9/7842b/error.png 800w,\n/static/6966de806a490e2770b7ccd3942848a9/33faa/error.png 1109w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/6966de806a490e2770b7ccd3942848a9/7842b/error.png"\n            alt="validation error"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",e.createElement(a.h2,null,"2.3 ",e.createElement(a.code,null,"MethodArgumentNotValidException")," 핸들러 추가"),"\n",e.createElement(a.p,null,e.createElement(a.code,null,"MethodArgumentNotValidException")," 형식의 예외를 처리하는 핸들러를 아래와 같이 추가합니다."),"\n",e.createElement(a.p,null,"Request 형식이 잘못되었으므로 400에러를 반환합니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<div class="gatsby-highlight" data-language="java"><pre class="language-java"><code class="language-java">  <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">MethodArgumentNotValidException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>\n  <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorResponse</span><span class="token punctuation">></span></span> <span class="token function">handleValidationException</span><span class="token punctuation">(</span>\n      <span class="token class-name">MethodArgumentNotValidException</span> ex<span class="token punctuation">,</span>\n      <span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n\n    <span class="token comment">// 검증 실패한 필드 메시지 추출</span>\n    <span class="token class-name">String</span> message <span class="token operator">=</span> ex<span class="token punctuation">.</span><span class="token function">getBindingResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">getFieldErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>error <span class="token operator">-></span> error<span class="token punctuation">.</span><span class="token function">getField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">": "</span> <span class="token operator">+</span> error<span class="token punctuation">.</span><span class="token function">getDefaultMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">", "</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token class-name">ErrorResponse</span> error <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ErrorResponse</span><span class="token punctuation">(</span>\n        <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">BAD_REQUEST</span><span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">BAD_REQUEST</span><span class="token punctuation">.</span><span class="token function">getReasonPhrase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n        message<span class="token punctuation">,</span>\n        request<span class="token punctuation">.</span><span class="token function">getRequestURI</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">status</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">BAD_REQUEST</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span></code></pre></div>'}}),"\n",e.createElement(a.p,null,"이제 다시 password를 8글자 미만으로 작성하고 요청을 보내면 아래와 같이 400 에러가 반환되고, validation에 설정한 메세지가 보여집니다."),"\n",e.createElement(a.span,{dangerouslySetInnerHTML:{__html:'<span\n      class="gatsby-resp-image-wrapper"\n      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; "\n    >\n      <a\n    class="gatsby-resp-image-link"\n    href="/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/88569/400.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n    <span\n    class="gatsby-resp-image-background-image"\n    style="padding-bottom: 38.5%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABi0lEQVR42p3Pu09TcQDF8fuHdOW2RIa2d+lDfi0ipfEWSLX3ciXBAAnWloXwMgyEBSIwSNBCKdJo4K9wcGAlIpSGmoaqYEKJPEoDDIaQfLk0jjwSh09OznaOVCwf8Oe8xMnFGcd/TymZWb48/y+li1Ok3cM9VrPrfN3KkNnOsfUzT2HvF9v/FIo79/qxv0thf4ffR0Wk9fwm4fBTVDVIoLkBUS/wPPTgrfXiFV7cHjcut+teNpuV3v5epG/fM+i6TsuzZhq0xwSfNyKCglqTS7hQFCcOhwOn03kjRVFoDKrmoDBjE5NI11PfJt4xnZghuZgimU4xb0p9/FDp15lYmON9avZW6eVPLC4v8XnlC9JGPku8J04sHqOzq5P2F+1oukaoqQk1pJoZou5RHUIIfD7fjfx+H3a7nYHhIaS13AYvu7uJRqMYhkEgEKjckKuqsMpWZFmm2mYzVd+q5kENFouFVz0xpGwhR99AHyOjIwy+HqTDXGm0GUT0CFqrVhHR76YbrTwx34xPveEKnzqMb7qlGx8AAAAASUVORK5CYII=\'); background-size: cover; display: block;"\n  ></span>\n  <picture>\n          <source\n              srcset="/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/f1512/400.webp 200w,\n/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/f59aa/400.webp 400w,\n/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/47a22/400.webp 800w,\n/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/33713/400.webp 1108w"\n              sizes="(max-width: 800px) 100vw, 800px"\n              type="image/webp"\n            />\n          <source\n            srcset="/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/f8f3a/400.png 200w,\n/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/6a8a8/400.png 400w,\n/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/7842b/400.png 800w,\n/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/88569/400.png 1108w"\n            sizes="(max-width: 800px) 100vw, 800px"\n            type="image/png"\n          />\n          <img\n            class="gatsby-resp-image-image"\n            src="/static/0c1a49fd9d5e2acf69bf6cc50fdf8401/7842b/400.png"\n            alt="400 error"\n            title=""\n            loading="lazy"\n            decoding="async"\n            style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"\n          />\n        </picture>\n  </a>\n    </span>'}}),"\n",e.createElement(a.h1,null,"3. 실제 설정과 검증 흐름"),"\n",e.createElement(a.p,null,"Swagger + Validation + Security까지 통합된 요청 처리 흐름은 다음과 같습니다."),"\n",e.createElement(a.ol,null,"\n",e.createElement(a.li,null,"Swagger UI에서 요청 생성"),"\n",e.createElement(a.li,null,"Controller 진입 전 ",e.createElement(a.code,null,"@Valid"),"에 의해 요청 DTO 검증"),"\n",e.createElement(a.li,null,"유효하지 않을 경우 Request Body를 처리하기 전에 400 오류 반환"),"\n",e.createElement(a.li,null,"유효하다면 JWT 필터가 인증 여부 확인"),"\n",e.createElement(a.li,null,"SecurityContext에 인증 정보 저장"),"\n",e.createElement(a.li,null,"Controller에서 비즈니스 로직 실행"),"\n",e.createElement(a.li,null,"Swagger UI에서 응답 확인 가능"),"\n"),"\n",e.createElement(a.p,null,"따라서 개발자는 Swagger에서 바로 요청 규칙을 확인하며 테스트할 수 있고,"),"\n",e.createElement(a.p,null,"클라이언트는 어떤 데이터 형식을 보내야 하는지 명확하게 이해할 수 있습니다."),"\n",e.createElement(a.h1,null,"마무리"),"\n",e.createElement(a.p,null,"이번 작업을 통해 Swagger를 통한 문서화와 Request Validation 기반의 안정적인 입력 검증 환경을 구축했습니다."),"\n",e.createElement(a.h2,null,"배운 점"),"\n",e.createElement(a.ol,null,"\n",e.createElement(a.li,null,e.createElement(a.strong,null,"Swagger는 Validation 정보를 자동 반영"),"하기 때문에 DTO 설계만 잘해도 문서 품질이 올라간다."),"\n",e.createElement(a.li,null,e.createElement(a.strong,null,"전역 예외 처리기 활용"),"으로 검증 실패 응답 형식을 일관되게 유지할 수 있다."),"\n",e.createElement(a.li,null,"JWT 기반 프로젝트에서는 Swagger Authorization 설정이 필수이다."),"\n",e.createElement(a.li,null,"클라이언트-서버 간 API 계약(API Contract)을 명확히 유지하는 데 Validation이 가장 중요하다."),"\n"))}var c=function(n){void 0===n&&(n={});const{wrapper:a}=Object.assign({},(0,t.RP)(),n.components);return a?e.createElement(a,n,e.createElement(p,n)):p(n)},o=s(7082),l=s(8009),i=s(5606),u=s(8454),r=s(1042),d=s(6952);function k(n){let{data:a,children:s}=n;return e.createElement(o.A,null,e.createElement(i.A,{data:a}),e.createElement("section",{className:"post-body-container"},e.createElement(d.A,null),e.createElement("div",{className:"post-body"},s),e.createElement("div",{className:"post-tags-area"},e.createElement(u.A,{tags:a.mdx.frontmatter.tags,isLinked:!0})),e.createElement("div",{className:"post-top-wrap"},e.createElement("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"post-top-button","aria-label":"맨 위로 이동"},"↑ TOP"))),e.createElement("section",{className:"comment-section"},e.createElement(l.A,null)))}function g(n){let{data:a}=n;return e.createElement(r.A,{title:a.mdx.frontmatter.title})}function m(n){return e.createElement(k,n,e.createElement(c,n))}},8454:function(n,a,s){var t=s(6540),e=s(4794),p=s(7717);a.A=function(n){let{tags:a,isLinked:s=!1}=n;return t.createElement("div",{className:"post-tags"},a.map((n=>s?t.createElement(e.Link,{key:n,to:`/tags/${n}`,className:"post-tag"},"#",p.A[n]||n):t.createElement("div",{key:n,className:"post-tag"},"#",p.A[n]||n))))}}}]);
//# sourceMappingURL=component---src-pages-post-mdx-frontmatter-slug-tsx-content-file-path-content-til-20251201-til-20251201-mdx-0cc7619704922952e4a1.js.map